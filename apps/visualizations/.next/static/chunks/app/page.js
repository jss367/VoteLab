/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/page"],{

/***/ "(app-pages-browser)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjulius%2Fgit%2FVoteLab%2FVoteLab%2Fpackages%2Fvisualizations%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!":
/*!*************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjulius%2Fgit%2FVoteLab%2FVoteLab%2Fpackages%2Fvisualizations%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false! ***!
  \*************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(app-pages-browser)/./app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGanVsaXVzJTJGZ2l0JTJGVm90ZUxhYiUyRlZvdGVMYWIlMkZwYWNrYWdlcyUyRnZpc3VhbGl6YXRpb25zJTJGYXBwJTJGcGFnZS50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPWZhbHNlISIsIm1hcHBpbmdzIjoiQUFBQSxzSkFBMkciLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qdWxpdXMvZ2l0L1ZvdGVMYWIvVm90ZUxhYi9wYWNrYWdlcy92aXN1YWxpemF0aW9ucy9hcHAvcGFnZS50c3hcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjulius%2Fgit%2FVoteLab%2FVoteLab%2Fpackages%2Fvisualizations%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/components/VotingMethodViz.tsx":
/*!********************************************!*\
  !*** ./app/components/VotingMethodViz.tsx ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VotingMethodViz: () => (/* binding */ VotingMethodViz)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _votingMethods__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./votingMethods */ \"(app-pages-browser)/./app/components/votingMethods.ts\");\n/* __next_internal_client_entry_do_not_use__ VotingMethodViz auto */ \nvar _s = $RefreshSig$();\n\n\nconst VotingMethodViz = ()=>{\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [candidates, setCandidates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        {\n            id: '1',\n            x: 0.3,\n            y: 0.7,\n            color: '#22c55e',\n            name: 'Candidate A'\n        },\n        {\n            id: '2',\n            x: 0.5,\n            y: 0.5,\n            color: '#ef4444',\n            name: 'Candidate B'\n        },\n        {\n            id: '3',\n            x: 0.7,\n            y: 0.3,\n            color: '#3b82f6',\n            name: 'Candidate C'\n        }\n    ]);\n    const [selectedMethod, setSelectedMethod] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('plurality');\n    const [isDragging, setIsDragging] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [approvalThreshold, setApprovalThreshold] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0.3);\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [voters, setVoters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [voterCount, setVoterCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(10000);\n    const [voterDistribution, setVoterDistribution] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('uniform');\n    const [hasGeneratedVoters, setHasGeneratedVoters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const availableColors = [\n        '#22c55e',\n        '#ef4444',\n        '#3b82f6',\n        '#f59e0b',\n        '#8b5cf6',\n        '#ec4899',\n        '#10b981',\n        '#6366f1',\n        '#f97316',\n        '#06b6d4'\n    ];\n    const randn_bm = ()=>{\n        let u = 0, v = 0;\n        while(u === 0)u = Math.random();\n        while(v === 0)v = Math.random();\n        return Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);\n    };\n    const generateVoters = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"VotingMethodViz.useCallback[generateVoters]\": (count, distribution)=>{\n            const newVoters = [];\n            for(let i = 0; i < count; i++){\n                let x, y;\n                switch(distribution){\n                    case 'normal':\n                        const standardDev = 0.15;\n                        // Generate values until we get one in bounds\n                        // This avoids edge accumulation\n                        do {\n                            x = 0.5 + randn_bm() * standardDev;\n                            y = 0.5 + randn_bm() * standardDev;\n                        }while (x < 0 || x > 1 || y < 0 || y > 1);\n                        break;\n                    case 'clustered':\n                        const clusters = [\n                            [\n                                0.3,\n                                0.3\n                            ],\n                            [\n                                0.7,\n                                0.7\n                            ],\n                            [\n                                0.5,\n                                0.5\n                            ]\n                        ];\n                        const cluster = clusters[Math.floor(Math.random() * clusters.length)];\n                        x = Math.min(1, Math.max(0, cluster[0] + randn_bm() * 0.2));\n                        y = Math.min(1, Math.max(0, cluster[1] + randn_bm() * 0.2));\n                        break;\n                    default:\n                        x = Math.random();\n                        y = Math.random();\n                }\n                newVoters.push({\n                    id: \"voter-\".concat(i),\n                    x,\n                    y\n                });\n            }\n            return newVoters;\n        }\n    }[\"VotingMethodViz.useCallback[generateVoters]\"], []);\n    const addCandidate = ()=>{\n        if (candidates.length >= availableColors.length) return;\n        const newId = (Math.max(0, ...candidates.map((c)=>parseInt(c.id))) + 1).toString();\n        const newColor = availableColors[candidates.length];\n        const letter = String.fromCharCode(65 + candidates.length);\n        setCandidates([\n            ...candidates,\n            {\n                id: newId,\n                x: 0.5,\n                y: 0.5,\n                color: newColor,\n                name: \"Candidate \".concat(letter)\n            }\n        ]);\n    };\n    const removeCandidate = (id)=>{\n        if (candidates.length <= 2) return;\n        setCandidates(candidates.filter((c)=>c.id !== id));\n    };\n    const updateCandidateName = (id, name)=>{\n        setCandidates(candidates.map((c)=>c.id === id ? {\n                ...c,\n                name\n            } : c));\n    };\n    const updateCandidatePosition = (id, newX, newY)=>{\n        const x = Math.max(0, Math.min(1, newX));\n        const y = Math.max(0, Math.min(1, newY));\n        setCandidates(candidates.map((c)=>c.id === id ? {\n                ...c,\n                x,\n                y\n            } : c));\n    };\n    const handleCoordinateInput = (id, coord, value)=>{\n        const numValue = parseFloat(value);\n        if (isNaN(numValue)) return;\n        const candidate = candidates.find((c)=>c.id === id);\n        if (!candidate) return;\n        updateCandidatePosition(id, coord === 'x' ? numValue : candidate.x, coord === 'y' ? numValue : candidate.y);\n    };\n    const drawVisualization = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"VotingMethodViz.useCallback[drawVisualization]\": ()=>{\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const ctx = canvas.getContext('2d');\n            if (!ctx) return;\n            const width = canvas.width;\n            const height = canvas.height;\n            // Draw the voting map\n            const imageData = ctx.createImageData(width, height);\n            for(let x = 0; x < width; x++){\n                for(let y = 0; y < height; y++){\n                    var _candidates_find;\n                    const voterX = x / width;\n                    const voterY = 1 - y / height;\n                    let winnerId;\n                    if (selectedMethod === 'approval') {\n                        // For approval, color based on approved candidates\n                        const prefs = (0,_votingMethods__WEBPACK_IMPORTED_MODULE_2__.getVoterPreference)(voterX, voterY, candidates);\n                        const approvedCandidates = prefs.filter({\n                            \"VotingMethodViz.useCallback[drawVisualization].approvedCandidates\": (p)=>p.dist <= approvalThreshold\n                        }[\"VotingMethodViz.useCallback[drawVisualization].approvedCandidates\"]);\n                        winnerId = approvedCandidates.length > 0 ? approvedCandidates[0].id : prefs[0].id;\n                    } else if (selectedMethod === 'borda') {\n                        // For Borda, color based on points\n                        const prefs = (0,_votingMethods__WEBPACK_IMPORTED_MODULE_2__.getVoterPreference)(voterX, voterY, candidates);\n                        const points = new Map();\n                        prefs.forEach({\n                            \"VotingMethodViz.useCallback[drawVisualization]\": (p, i)=>{\n                                points.set(p.id, candidates.length - 1 - i);\n                            }\n                        }[\"VotingMethodViz.useCallback[drawVisualization]\"]);\n                        winnerId = [\n                            ...points.entries()\n                        ].reduce({\n                            \"VotingMethodViz.useCallback[drawVisualization]\": (a, b)=>a[1] > b[1] ? a : b\n                        }[\"VotingMethodViz.useCallback[drawVisualization]\"])[0];\n                    } else {\n                        // For plurality and IRV, color based on closest candidate\n                        winnerId = (0,_votingMethods__WEBPACK_IMPORTED_MODULE_2__.getVoterPreference)(voterX, voterY, candidates)[0].id;\n                    }\n                    var _candidates_find_color;\n                    const winnerColor = (_candidates_find_color = (_candidates_find = candidates.find({\n                        \"VotingMethodViz.useCallback[drawVisualization]\": (c)=>c.id === winnerId\n                    }[\"VotingMethodViz.useCallback[drawVisualization]\"])) === null || _candidates_find === void 0 ? void 0 : _candidates_find.color) !== null && _candidates_find_color !== void 0 ? _candidates_find_color : '#000000';\n                    const rgb = parseInt(winnerColor.slice(1), 16);\n                    const idx = (y * width + x) * 4;\n                    imageData.data[idx] = rgb >> 16 & 255; // R\n                    imageData.data[idx + 1] = rgb >> 8 & 255; // G\n                    imageData.data[idx + 2] = rgb & 255; // B\n                    imageData.data[idx + 3] = 255; // A\n                }\n            }\n            ctx.putImageData(imageData, 0, 0);\n            // Draw voters\n            ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';\n            voters.forEach({\n                \"VotingMethodViz.useCallback[drawVisualization]\": (voter)=>{\n                    ctx.beginPath();\n                    ctx.arc(voter.x * width, (1 - voter.y) * height, 2, 0, 2 * Math.PI);\n                    ctx.fill();\n                }\n            }[\"VotingMethodViz.useCallback[drawVisualization]\"]);\n            // Draw candidates\n            candidates.forEach({\n                \"VotingMethodViz.useCallback[drawVisualization]\": (candidate)=>{\n                    ctx.beginPath();\n                    ctx.arc(candidate.x * width, (1 - candidate.y) * height, 8, 0, 2 * Math.PI);\n                    ctx.fillStyle = 'white';\n                    ctx.fill();\n                    ctx.strokeStyle = candidate.color;\n                    ctx.lineWidth = 3;\n                    ctx.stroke();\n                    ctx.fillStyle = 'black';\n                    ctx.font = '12px sans-serif';\n                    ctx.textAlign = 'center';\n                    ctx.fillText(candidate.name, candidate.x * width, (1 - candidate.y) * height + 20);\n                }\n            }[\"VotingMethodViz.useCallback[drawVisualization]\"]);\n            if (selectedMethod === 'approval') {\n                ctx.strokeStyle = 'rgba(0, 0, 0, 0.2)';\n                ctx.lineWidth = 1;\n                candidates.forEach({\n                    \"VotingMethodViz.useCallback[drawVisualization]\": (candidate)=>{\n                        ctx.beginPath();\n                        ctx.arc(candidate.x * width, (1 - candidate.y) * height, approvalThreshold * width, 0, 2 * Math.PI);\n                        ctx.stroke();\n                    }\n                }[\"VotingMethodViz.useCallback[drawVisualization]\"]);\n            }\n        }\n    }[\"VotingMethodViz.useCallback[drawVisualization]\"], [\n        candidates,\n        selectedMethod,\n        approvalThreshold,\n        voters\n    ]);\n    const handleCanvasMouseDown = (e)=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const rect = canvas.getBoundingClientRect();\n        // Account for any scaling between canvas internal size and displayed size\n        const scaleX = canvas.width / rect.width;\n        const scaleY = canvas.height / rect.height;\n        const x = (e.clientX - rect.left) * scaleX / canvas.width;\n        const y = 1 - (e.clientY - rect.top) * scaleY / canvas.height;\n        const clickedCandidate = candidates.find((candidate)=>(0,_votingMethods__WEBPACK_IMPORTED_MODULE_2__.distance)(x, y, candidate.x, candidate.y) < 0.1 // Increased click detection area\n        );\n        if (clickedCandidate) {\n            setIsDragging(clickedCandidate.id);\n            e.preventDefault(); // Prevent text selection while dragging\n        }\n    };\n    const handleCanvasMouseMove = (e)=>{\n        if (isDragging !== null) {\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n            const rect = canvas.getBoundingClientRect();\n            const scaleX = canvas.width / rect.width;\n            const scaleY = canvas.height / rect.height;\n            const x = (e.clientX - rect.left) * scaleX / canvas.width;\n            const y = 1 - (e.clientY - rect.top) * scaleY / canvas.height;\n            // Clamp the values between 0 and 1\n            const clampedX = Math.max(0, Math.min(1, x));\n            const clampedY = Math.max(0, Math.min(1, y));\n            setCandidates(candidates.map((candidate)=>candidate.id === isDragging ? {\n                    ...candidate,\n                    x: clampedX,\n                    y: clampedY\n                } : candidate));\n            e.preventDefault(); // Prevent text selection while dragging\n        }\n    };\n    const handleCanvasMouseUp = ()=>{\n        setIsDragging(null);\n    };\n    const calculateWinningAreas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"VotingMethodViz.useCallback[calculateWinningAreas]\": (method)=>{\n            const samplePoints = 50;\n            const votes = new Map();\n            candidates.forEach({\n                \"VotingMethodViz.useCallback[calculateWinningAreas]\": (c)=>votes.set(c.id, 0)\n            }[\"VotingMethodViz.useCallback[calculateWinningAreas]\"]);\n            // For IRV, we need to collect all votes first\n            const allVotes = [];\n            for(let x = 0; x < samplePoints; x++){\n                for(let y = 0; y < samplePoints; y++){\n                    const voterX = x / (samplePoints - 1);\n                    const voterY = y / (samplePoints - 1);\n                    const voteResult = _votingMethods__WEBPACK_IMPORTED_MODULE_2__.votingMethods[method](voterX, voterY, candidates, method === 'approval' ? approvalThreshold : undefined);\n                    if (method === 'approval') {\n                        // For approval, count all approved candidates\n                        voteResult.forEach({\n                            \"VotingMethodViz.useCallback[calculateWinningAreas]\": (id)=>votes.set(id, votes.get(id) + 1)\n                        }[\"VotingMethodViz.useCallback[calculateWinningAreas]\"]);\n                    } else if (method === 'borda') {\n                        // For Borda, give points based on ranking\n                        voteResult.forEach({\n                            \"VotingMethodViz.useCallback[calculateWinningAreas]\": (id, index)=>{\n                                votes.set(id, votes.get(id) + (candidates.length - 1 - index));\n                            }\n                        }[\"VotingMethodViz.useCallback[calculateWinningAreas]\"]);\n                    } else if (method === 'irv') {\n                        // For IRV, collect all votes for later processing\n                        allVotes.push(voteResult);\n                    } else {\n                        // For plurality, just count first preference\n                        votes.set(voteResult[0], votes.get(voteResult[0]) + 1);\n                    }\n                }\n            }\n            // Special handling for IRV\n            if (method === 'irv') {\n                let remainingCandidates = new Set(candidates.map({\n                    \"VotingMethodViz.useCallback[calculateWinningAreas]\": (c)=>c.id\n                }[\"VotingMethodViz.useCallback[calculateWinningAreas]\"]));\n                while(remainingCandidates.size > 1){\n                    const roundVotes = new Map();\n                    remainingCandidates.forEach({\n                        \"VotingMethodViz.useCallback[calculateWinningAreas]\": (id)=>roundVotes.set(id, 0)\n                    }[\"VotingMethodViz.useCallback[calculateWinningAreas]\"]);\n                    // Count first preferences among remaining candidates\n                    allVotes.forEach({\n                        \"VotingMethodViz.useCallback[calculateWinningAreas]\": (prefs)=>{\n                            const firstChoice = prefs.find({\n                                \"VotingMethodViz.useCallback[calculateWinningAreas].firstChoice\": (id)=>remainingCandidates.has(id)\n                            }[\"VotingMethodViz.useCallback[calculateWinningAreas].firstChoice\"]);\n                            if (firstChoice) {\n                                roundVotes.set(firstChoice, roundVotes.get(firstChoice) + 1);\n                            }\n                        }\n                    }[\"VotingMethodViz.useCallback[calculateWinningAreas]\"]);\n                    const totalVotes = [\n                        ...roundVotes.values()\n                    ].reduce({\n                        \"VotingMethodViz.useCallback[calculateWinningAreas].totalVotes\": (a, b)=>a + b\n                    }[\"VotingMethodViz.useCallback[calculateWinningAreas].totalVotes\"], 0);\n                    const majorityThreshold = totalVotes / 2;\n                    // Check if any candidate has a majority\n                    const [winner] = [\n                        ...roundVotes.entries()\n                    ].reduce({\n                        \"VotingMethodViz.useCallback[calculateWinningAreas]\": (a, b)=>b[1] > a[1] ? b : a\n                    }[\"VotingMethodViz.useCallback[calculateWinningAreas]\"]);\n                    if (roundVotes.get(winner) > majorityThreshold) {\n                        votes.clear();\n                        candidates.forEach({\n                            \"VotingMethodViz.useCallback[calculateWinningAreas]\": (c)=>votes.set(c.id, 0)\n                        }[\"VotingMethodViz.useCallback[calculateWinningAreas]\"]);\n                        votes.set(winner, totalVotes);\n                        break;\n                    }\n                    // Eliminate candidate with fewest votes\n                    const [loser] = [\n                        ...roundVotes.entries()\n                    ].reduce({\n                        \"VotingMethodViz.useCallback[calculateWinningAreas]\": (a, b)=>a[1] < b[1] ? a : b\n                    }[\"VotingMethodViz.useCallback[calculateWinningAreas]\"]);\n                    remainingCandidates.delete(loser);\n                }\n                // If we get here without finding a majority winner, the last remaining candidate wins\n                if (remainingCandidates.size === 1) {\n                    const winner = remainingCandidates.values().next().value;\n                    votes.clear();\n                    candidates.forEach({\n                        \"VotingMethodViz.useCallback[calculateWinningAreas]\": (c)=>votes.set(c.id, 0)\n                    }[\"VotingMethodViz.useCallback[calculateWinningAreas]\"]);\n                    votes.set(winner, samplePoints * samplePoints);\n                }\n            }\n            const totalPoints = method === 'approval' ? [\n                ...votes.values()\n            ].reduce({\n                \"VotingMethodViz.useCallback[calculateWinningAreas]\": (a, b)=>a + b\n            }[\"VotingMethodViz.useCallback[calculateWinningAreas]\"], 0) : method === 'borda' ? samplePoints * samplePoints * (candidates.length * (candidates.length - 1) / 2) : samplePoints * samplePoints;\n            const results = {};\n            for (const [id, voteCount] of votes.entries()){\n                results[id] = voteCount / totalPoints * 100;\n            }\n            return {\n                votes: Object.fromEntries(votes),\n                percentages: results\n            };\n        }\n    }[\"VotingMethodViz.useCallback[calculateWinningAreas]\"], [\n        candidates,\n        _votingMethods__WEBPACK_IMPORTED_MODULE_2__.votingMethods,\n        approvalThreshold\n    ]);\n    const calculateActualVotes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"VotingMethodViz.useCallback[calculateActualVotes]\": (method)=>{\n            if (!hasGeneratedVoters || voters.length === 0) return null;\n            const votes = new Map();\n            candidates.forEach({\n                \"VotingMethodViz.useCallback[calculateActualVotes]\": (c)=>votes.set(c.id, 0)\n            }[\"VotingMethodViz.useCallback[calculateActualVotes]\"]);\n            if (method === 'irv') {\n                let remainingCandidates = [\n                    ...candidates\n                ];\n                const allVotes = voters.map({\n                    \"VotingMethodViz.useCallback[calculateActualVotes].allVotes\": (voter)=>_votingMethods__WEBPACK_IMPORTED_MODULE_2__.votingMethods[method](voter.x, voter.y, candidates)\n                }[\"VotingMethodViz.useCallback[calculateActualVotes].allVotes\"]);\n                while(remainingCandidates.length > 1){\n                    const roundVotes = new Map();\n                    remainingCandidates.forEach({\n                        \"VotingMethodViz.useCallback[calculateActualVotes]\": (c)=>roundVotes.set(c.id, 0)\n                    }[\"VotingMethodViz.useCallback[calculateActualVotes]\"]);\n                    allVotes.forEach({\n                        \"VotingMethodViz.useCallback[calculateActualVotes]\": (prefs)=>{\n                            const firstChoice = prefs.find({\n                                \"VotingMethodViz.useCallback[calculateActualVotes].firstChoice\": (id)=>remainingCandidates.some({\n                                        \"VotingMethodViz.useCallback[calculateActualVotes].firstChoice\": (c)=>c.id === id\n                                    }[\"VotingMethodViz.useCallback[calculateActualVotes].firstChoice\"])\n                            }[\"VotingMethodViz.useCallback[calculateActualVotes].firstChoice\"]);\n                            if (firstChoice) {\n                                roundVotes.set(firstChoice, roundVotes.get(firstChoice) + 1);\n                            }\n                        }\n                    }[\"VotingMethodViz.useCallback[calculateActualVotes]\"]);\n                    const majorityNeeded = voters.length / 2;\n                    const leader = [\n                        ...roundVotes.entries()\n                    ].reduce({\n                        \"VotingMethodViz.useCallback[calculateActualVotes].leader\": (a, b)=>a[1] > b[1] ? a : b\n                    }[\"VotingMethodViz.useCallback[calculateActualVotes].leader\"]);\n                    if (leader[1] > majorityNeeded) {\n                        votes.set(leader[0], leader[1]);\n                        break;\n                    }\n                    const loser = [\n                        ...roundVotes.entries()\n                    ].reduce({\n                        \"VotingMethodViz.useCallback[calculateActualVotes]\": (a, b)=>a[1] < b[1] ? a : b\n                    }[\"VotingMethodViz.useCallback[calculateActualVotes]\"])[0];\n                    remainingCandidates = remainingCandidates.filter({\n                        \"VotingMethodViz.useCallback[calculateActualVotes]\": (c)=>c.id !== loser\n                    }[\"VotingMethodViz.useCallback[calculateActualVotes]\"]);\n                }\n                if (remainingCandidates.length === 1) {\n                    votes.set(remainingCandidates[0].id, voters.length);\n                }\n            } else {\n                voters.forEach({\n                    \"VotingMethodViz.useCallback[calculateActualVotes]\": (voter)=>{\n                        const voteResult = _votingMethods__WEBPACK_IMPORTED_MODULE_2__.votingMethods[method](voter.x, voter.y, candidates, method === 'approval' ? approvalThreshold : undefined);\n                        if (method === 'approval') {\n                            voteResult.forEach({\n                                \"VotingMethodViz.useCallback[calculateActualVotes]\": (id)=>votes.set(id, votes.get(id) + 1)\n                            }[\"VotingMethodViz.useCallback[calculateActualVotes]\"]);\n                        } else if (method === 'borda') {\n                            voteResult.forEach({\n                                \"VotingMethodViz.useCallback[calculateActualVotes]\": (id, index)=>{\n                                    votes.set(id, votes.get(id) + (candidates.length - 1 - index));\n                                }\n                            }[\"VotingMethodViz.useCallback[calculateActualVotes]\"]);\n                        } else {\n                            votes.set(voteResult[0], votes.get(voteResult[0]) + 1);\n                        }\n                    }\n                }[\"VotingMethodViz.useCallback[calculateActualVotes]\"]);\n            }\n            const totalVotes = method === 'approval' ? [\n                ...votes.values()\n            ].reduce({\n                \"VotingMethodViz.useCallback[calculateActualVotes]\": (a, b)=>a + b\n            }[\"VotingMethodViz.useCallback[calculateActualVotes]\"], 0) : method === 'borda' ? voters.length * (candidates.length * (candidates.length - 1) / 2) : voters.length;\n            const results = {};\n            for (const [id, voteCount] of votes.entries()){\n                results[id] = voteCount / totalVotes * 100;\n            }\n            return {\n                votes: Object.fromEntries(votes),\n                percentages: results\n            };\n        }\n    }[\"VotingMethodViz.useCallback[calculateActualVotes]\"], [\n        candidates,\n        voters,\n        hasGeneratedVoters,\n        _votingMethods__WEBPACK_IMPORTED_MODULE_2__.votingMethods\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"VotingMethodViz.useEffect\": ()=>{\n            drawVisualization();\n        }\n    }[\"VotingMethodViz.useEffect\"], [\n        drawVisualization\n    ]);\n    const handleGenerateVoters = ()=>{\n        const newVoters = generateVoters(voterCount, voterDistribution);\n        setVoters(newVoters);\n        setHasGeneratedVoters(true);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full max-w-6xl p-4 bg-white rounded-lg shadow-lg\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between items-start mb-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold mb-2\",\n                            children: \"Voting Method Comparison\"\n                        }, void 0, false, {\n                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                            lineNumber: 479,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-4 items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    value: selectedMethod,\n                                    onChange: (e)=>setSelectedMethod(e.target.value),\n                                    className: \"block w-40 px-4 py-2 border rounded-md shadow-sm\",\n                                    children: Object.entries(_votingMethods__WEBPACK_IMPORTED_MODULE_2__.methods).map((param)=>{\n                                        let [value, label] = param;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: value,\n                                            children: label\n                                        }, value, false, {\n                                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                            lineNumber: 487,\n                                            columnNumber: 33\n                                        }, undefined);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                    lineNumber: 481,\n                                    columnNumber: 25\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowSettings(!showSettings),\n                                    className: \"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md\",\n                                    children: showSettings ? 'Hide Settings' : 'Show Settings'\n                                }, void 0, false, {\n                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                    lineNumber: 492,\n                                    columnNumber: 25\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                            lineNumber: 480,\n                            columnNumber: 21\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mt-2 text-gray-600\",\n                            children: _votingMethods__WEBPACK_IMPORTED_MODULE_2__.methodDescriptions[selectedMethod]\n                        }, void 0, false, {\n                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                            lineNumber: 499,\n                            columnNumber: 21\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                    lineNumber: 478,\n                    columnNumber: 17\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                lineNumber: 477,\n                columnNumber: 13\n            }, undefined),\n            hasGeneratedVoters ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-4 bg-gray-50 rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold mb-2\",\n                                children: \"Theoretical Area Coverage\"\n                            }, void 0, false, {\n                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                lineNumber: 509,\n                                columnNumber: 25\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n                                children: Object.entries(_votingMethods__WEBPACK_IMPORTED_MODULE_2__.methods).map((param)=>{\n                                    let [method, label] = param;\n                                    const areaResults = calculateWinningAreas(method);\n                                    const winner = candidates.find((c)=>c.id === Object.entries(areaResults.percentages).reduce((a, b)=>a[1] > b[1] ? a : b)[0]);\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 rounded-lg border \".concat(method === selectedMethod ? 'bg-white border-blue-500' : 'bg-white'),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"font-medium\",\n                                                children: label\n                                            }, void 0, false, {\n                                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                lineNumber: 520,\n                                                columnNumber: 41\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 mt-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-3 h-3 rounded-full\",\n                                                        style: {\n                                                            backgroundColor: winner === null || winner === void 0 ? void 0 : winner.color\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                        lineNumber: 522,\n                                                        columnNumber: 45\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: winner === null || winner === void 0 ? void 0 : winner.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                        lineNumber: 523,\n                                                        columnNumber: 45\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                lineNumber: 521,\n                                                columnNumber: 41\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-gray-600\",\n                                                children: [\n                                                    areaResults.percentages[winner.id].toFixed(1),\n                                                    \"% of map area\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                lineNumber: 525,\n                                                columnNumber: 41\n                                            }, undefined)\n                                        ]\n                                    }, \"area-\".concat(method), true, {\n                                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                        lineNumber: 519,\n                                        columnNumber: 37\n                                    }, undefined);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                lineNumber: 510,\n                                columnNumber: 25\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                        lineNumber: 508,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-4 bg-gray-50 rounded-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold mb-2\",\n                                children: [\n                                    \"Actual Voter Results (\",\n                                    voters.length,\n                                    \" voters)\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                lineNumber: 536,\n                                columnNumber: 25\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n                                children: Object.entries(_votingMethods__WEBPACK_IMPORTED_MODULE_2__.methods).map((param)=>{\n                                    let [method, label] = param;\n                                    const voterResults = calculateActualVotes(method);\n                                    const winner = candidates.find((c)=>c.id === Object.entries(voterResults.percentages).reduce((a, b)=>a[1] > b[1] ? a : b)[0]);\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 rounded-lg border \".concat(method === selectedMethod ? 'bg-white border-blue-500' : 'bg-white'),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"font-medium\",\n                                                children: label\n                                            }, void 0, false, {\n                                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                lineNumber: 547,\n                                                columnNumber: 41\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 mt-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-3 h-3 rounded-full\",\n                                                        style: {\n                                                            backgroundColor: winner === null || winner === void 0 ? void 0 : winner.color\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                        lineNumber: 549,\n                                                        columnNumber: 45\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: winner === null || winner === void 0 ? void 0 : winner.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                        lineNumber: 550,\n                                                        columnNumber: 45\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                lineNumber: 548,\n                                                columnNumber: 41\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-gray-600\",\n                                                children: [\n                                                    voterResults.votes[winner.id],\n                                                    \" votes (\",\n                                                    voterResults.percentages[winner.id].toFixed(1),\n                                                    \"%)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                lineNumber: 552,\n                                                columnNumber: 41\n                                            }, undefined)\n                                        ]\n                                    }, \"votes-\".concat(method), true, {\n                                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                        lineNumber: 546,\n                                        columnNumber: 37\n                                    }, undefined);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                lineNumber: 537,\n                                columnNumber: 25\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                        lineNumber: 535,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                lineNumber: 506,\n                columnNumber: 17\n            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 p-4 bg-gray-100 rounded-lg text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600 mb-2\",\n                        children: \"Generate voters to see election results\"\n                    }, void 0, false, {\n                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                        lineNumber: 563,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleGenerateVoters,\n                        className: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",\n                        children: [\n                            \"Generate \",\n                            voterCount,\n                            \" Voters\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                        lineNumber: 564,\n                        columnNumber: 21\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                lineNumber: 562,\n                columnNumber: 17\n            }, undefined),\n            showSettings && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 p-4 bg-gray-50 rounded-lg\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"font-semibold mb-2\",\n                                    children: \"Candidates\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                    lineNumber: 577,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        candidates.map((candidate)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-wrap items-center gap-2 p-2 border rounded bg-white\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-4 h-4 rounded-full\",\n                                                        style: {\n                                                            backgroundColor: candidate.color\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                        lineNumber: 581,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"text\",\n                                                        value: candidate.name,\n                                                        onChange: (e)=>updateCandidateName(candidate.id, e.target.value),\n                                                        className: \"px-2 py-1 border rounded w-32\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                        lineNumber: 582,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: \"text-sm\",\n                                                                children: \"X:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                                lineNumber: 589,\n                                                                columnNumber: 45\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                value: candidate.x.toFixed(2),\n                                                                onChange: (e)=>handleCoordinateInput(candidate.id, 'x', e.target.value),\n                                                                step: \"0.05\",\n                                                                min: \"0\",\n                                                                max: \"1\",\n                                                                className: \"px-2 py-1 border rounded w-20\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                                lineNumber: 590,\n                                                                columnNumber: 45\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: \"text-sm\",\n                                                                children: \"Y:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                                lineNumber: 599,\n                                                                columnNumber: 45\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                value: candidate.y.toFixed(2),\n                                                                onChange: (e)=>handleCoordinateInput(candidate.id, 'y', e.target.value),\n                                                                step: \"0.05\",\n                                                                min: \"0\",\n                                                                max: \"1\",\n                                                                className: \"px-2 py-1 border rounded w-20\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                                lineNumber: 600,\n                                                                columnNumber: 45\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                        lineNumber: 588,\n                                                        columnNumber: 41\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>removeCandidate(candidate.id),\n                                                        className: \"px-2 py-1 text-red-600 hover:bg-red-50 rounded ml-auto\",\n                                                        children: \"Remove\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                        lineNumber: 610,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                ]\n                                            }, candidate.id, true, {\n                                                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                lineNumber: 580,\n                                                columnNumber: 37\n                                            }, undefined)),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: addCandidate,\n                                            className: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",\n                                            disabled: candidates.length >= availableColors.length,\n                                            children: \"Add Candidate\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                            lineNumber: 618,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                    lineNumber: 578,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-2 text-sm text-gray-600\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"Tip: You can adjust positions by either:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                            lineNumber: 627,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                            className: \"list-disc ml-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Dragging the circles on the visualization\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                    lineNumber: 629,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Entering coordinates (0-1 range for both X and Y)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                    lineNumber: 630,\n                                                    columnNumber: 37\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                            lineNumber: 628,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                    lineNumber: 626,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                            lineNumber: 576,\n                            columnNumber: 25\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"font-semibold mb-2\",\n                                    children: \"Voter Settings\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                    lineNumber: 636,\n                                    columnNumber: 29\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    children: \"Number of Voters:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                    lineNumber: 639,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"number\",\n                                                    value: voterCount,\n                                                    onChange: (e)=>setVoterCount(Math.max(1, parseInt(e.target.value) || 0)),\n                                                    className: \"px-2 py-1 border rounded w-24\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                    lineNumber: 640,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>setVoters(generateVoters(voterCount, voterDistribution)),\n                                                    className: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",\n                                                    children: \"Generate Voters\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                    lineNumber: 646,\n                                                    columnNumber: 37\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                            lineNumber: 638,\n                                            columnNumber: 33\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    children: \"Distribution:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                    lineNumber: 654,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                    value: voterDistribution,\n                                                    onChange: (e)=>setVoterDistribution(e.target.value),\n                                                    className: \"px-2 py-1 border rounded\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"uniform\",\n                                                            children: \"Uniform\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                            lineNumber: 660,\n                                                            columnNumber: 41\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"normal\",\n                                                            children: \"Normal\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                            lineNumber: 661,\n                                                            columnNumber: 41\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"clustered\",\n                                                            children: \"Clustered\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                            lineNumber: 662,\n                                                            columnNumber: 41\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                                    lineNumber: 655,\n                                                    columnNumber: 37\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                            lineNumber: 653,\n                                            columnNumber: 33\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                    lineNumber: 637,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                            lineNumber: 635,\n                            columnNumber: 25\n                        }, undefined),\n                        selectedMethod === 'approval' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"font-semibold mb-2\",\n                                    children: \"Approval Voting Settings\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                    lineNumber: 670,\n                                    columnNumber: 33\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            children: \"Approval Threshold:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                            lineNumber: 672,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"range\",\n                                            min: \"0.1\",\n                                            max: \"0.5\",\n                                            step: \"0.05\",\n                                            value: approvalThreshold,\n                                            onChange: (e)=>setApprovalThreshold(parseFloat(e.target.value)),\n                                            className: \"w-40\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                            lineNumber: 673,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: [\n                                                (approvalThreshold * 100).toFixed(0),\n                                                \"%\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                            lineNumber: 682,\n                                            columnNumber: 37\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                                    lineNumber: 671,\n                                    columnNumber: 33\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                            lineNumber: 669,\n                            columnNumber: 29\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                    lineNumber: 575,\n                    columnNumber: 21\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                lineNumber: 574,\n                columnNumber: 17\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border rounded-lg p-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                    ref: canvasRef,\n                    width: 400,\n                    height: 400,\n                    className: \"w-full border rounded cursor-move\",\n                    style: {\n                        touchAction: 'none'\n                    },\n                    onMouseDown: handleCanvasMouseDown,\n                    onMouseMove: handleCanvasMouseMove,\n                    onMouseUp: handleCanvasMouseUp,\n                    onMouseLeave: handleCanvasMouseUp\n                }, void 0, false, {\n                    fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                    lineNumber: 691,\n                    columnNumber: 17\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n                lineNumber: 690,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/components/VotingMethodViz.tsx\",\n        lineNumber: 476,\n        columnNumber: 9\n    }, undefined);\n};\n_s(VotingMethodViz, \"3IJCKndNFNgDn0rIAeAatiUQvig=\");\n_c = VotingMethodViz;\n\nvar _c;\n$RefreshReg$(_c, \"VotingMethodViz\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb21wb25lbnRzL1ZvdGluZ01ldGhvZFZpei50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUN3RTtBQVMvQztBQUV6QixNQUFNVSxrQkFBa0I7O0lBQ3BCLE1BQU1DLFlBQVlSLDZDQUFNQSxDQUFDO0lBQ3pCLE1BQU0sQ0FBQ1MsWUFBWUMsY0FBYyxHQUFHVCwrQ0FBUUEsQ0FBQztRQUN6QztZQUFFVSxJQUFJO1lBQUtDLEdBQUc7WUFBS0MsR0FBRztZQUFLQyxPQUFPO1lBQVdDLE1BQU07UUFBYztRQUNqRTtZQUFFSixJQUFJO1lBQUtDLEdBQUc7WUFBS0MsR0FBRztZQUFLQyxPQUFPO1lBQVdDLE1BQU07UUFBYztRQUNqRTtZQUFFSixJQUFJO1lBQUtDLEdBQUc7WUFBS0MsR0FBRztZQUFLQyxPQUFPO1lBQVdDLE1BQU07UUFBYztLQUNwRTtJQUNELE1BQU0sQ0FBQ0MsZ0JBQWdCQyxrQkFBa0IsR0FBR2hCLCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQ2lCLFlBQVlDLGNBQWMsR0FBR2xCLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ21CLG1CQUFtQkMscUJBQXFCLEdBQUdwQiwrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUNxQixjQUFjQyxnQkFBZ0IsR0FBR3RCLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ3VCLFFBQVFDLFVBQVUsR0FBR3hCLCtDQUFRQSxDQUFDLEVBQUU7SUFDdkMsTUFBTSxDQUFDeUIsWUFBWUMsY0FBYyxHQUFHMUIsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDMkIsbUJBQW1CQyxxQkFBcUIsR0FBRzVCLCtDQUFRQSxDQUFDO0lBQzNELE1BQU0sQ0FBQzZCLG9CQUFvQkMsc0JBQXNCLEdBQUc5QiwrQ0FBUUEsQ0FBQztJQUU3RCxNQUFNK0Isa0JBQWtCO1FBQ3BCO1FBQVc7UUFBVztRQUFXO1FBQVc7UUFDNUM7UUFBVztRQUFXO1FBQVc7UUFBVztLQUMvQztJQU1E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b0NBQUlDLFdBQVU7O3NEQUNYLDhEQUFDSztzREFBTTs7Ozs7O3NEQUNQLDhEQUFDVzs0Q0FDR0MsTUFBSzs0Q0FDTHhJLEtBQUk7NENBQ0pDLEtBQUk7NENBQ0p3SSxNQUFLOzRDQUNMcEgsT0FBT3JEOzRDQUNQMEosVUFBVSxDQUFDckQsSUFBTXBHLHFCQUFxQnNELFdBQVc4QyxFQUFFc0QsTUFBTSxDQUFDdEcsS0FBSzs0Q0FDL0RrRyxXQUFVOzs7Ozs7c0RBRWQsOERBQUNhOztnREFBT3BLLENBQUFBLG9CQUFvQixHQUFFLEVBQUdxSyxPQUFPLENBQUM7Z0RBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFRcEUsOERBQUNmO2dCQUFJQyxXQUFVOzBCQUNYLDRFQUFDM0Y7b0JBQ0dpSCxLQUFLekw7b0JBQ0w0RSxPQUFPO29CQUNQQyxRQUFRO29CQUNSc0YsV0FBVTtvQkFDVlcsT0FBTzt3QkFBRVksYUFBYTtvQkFBTztvQkFDN0JDLGFBQWEzRTtvQkFDYjRFLGFBQWFoRTtvQkFDYmlFLFdBQVc5RDtvQkFDWCtELGNBQWMvRDs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLbEM7R0FwckJNaEk7S0FBQUE7QUFzckJxQiIsInNvdXJjZXMiOlsiL1VzZXJzL2p1bGl1cy9naXQvVm90ZUxhYi9Wb3RlTGFiL3BhY2thZ2VzL3Zpc3VhbGl6YXRpb25zL2FwcC9jb21wb25lbnRzL1ZvdGluZ01ldGhvZFZpei50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG5cbmltcG9ydCB0eXBlIHsgVm90ZXIgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7XG4gICAgZGlzdGFuY2UsIGdldFZvdGVyUHJlZmVyZW5jZSxcbiAgICBtZXRob2REZXNjcmlwdGlvbnMsXG4gICAgbWV0aG9kcyxcbiAgICB2b3RpbmdNZXRob2RzXG59IGZyb20gJy4vdm90aW5nTWV0aG9kcyc7XG5cbmNvbnN0IFZvdGluZ01ldGhvZFZpeiA9ICgpID0+IHtcbiAgICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgW2NhbmRpZGF0ZXMsIHNldENhbmRpZGF0ZXNdID0gdXNlU3RhdGUoW1xuICAgICAgICB7IGlkOiAnMScsIHg6IDAuMywgeTogMC43LCBjb2xvcjogJyMyMmM1NWUnLCBuYW1lOiAnQ2FuZGlkYXRlIEEnIH0sXG4gICAgICAgIHsgaWQ6ICcyJywgeDogMC41LCB5OiAwLjUsIGNvbG9yOiAnI2VmNDQ0NCcsIG5hbWU6ICdDYW5kaWRhdGUgQicgfSxcbiAgICAgICAgeyBpZDogJzMnLCB4OiAwLjcsIHk6IDAuMywgY29sb3I6ICcjM2I4MmY2JywgbmFtZTogJ0NhbmRpZGF0ZSBDJyB9LFxuICAgIF0pO1xuICAgIGNvbnN0IFtzZWxlY3RlZE1ldGhvZCwgc2V0U2VsZWN0ZWRNZXRob2RdID0gdXNlU3RhdGUoJ3BsdXJhbGl0eScpO1xuICAgIGNvbnN0IFtpc0RyYWdnaW5nLCBzZXRJc0RyYWdnaW5nXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFthcHByb3ZhbFRocmVzaG9sZCwgc2V0QXBwcm92YWxUaHJlc2hvbGRdID0gdXNlU3RhdGUoMC4zKTtcbiAgICBjb25zdCBbc2hvd1NldHRpbmdzLCBzZXRTaG93U2V0dGluZ3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFt2b3RlcnMsIHNldFZvdGVyc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW3ZvdGVyQ291bnQsIHNldFZvdGVyQ291bnRdID0gdXNlU3RhdGUoMTAwMDApO1xuICAgIGNvbnN0IFt2b3RlckRpc3RyaWJ1dGlvbiwgc2V0Vm90ZXJEaXN0cmlidXRpb25dID0gdXNlU3RhdGUoJ3VuaWZvcm0nKTtcbiAgICBjb25zdCBbaGFzR2VuZXJhdGVkVm90ZXJzLCBzZXRIYXNHZW5lcmF0ZWRWb3RlcnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gICAgY29uc3QgYXZhaWxhYmxlQ29sb3JzID0gW1xuICAgICAgICAnIzIyYzU1ZScsICcjZWY0NDQ0JywgJyMzYjgyZjYnLCAnI2Y1OWUwYicsICcjOGI1Y2Y2JyxcbiAgICAgICAgJyNlYzQ4OTknLCAnIzEwYjk4MScsICcjNjM2NmYxJywgJyNmOTczMTYnLCAnIzA2YjZkNCdcbiAgICBdO1xuXG5cblxuXG5cbiAgICBjb25zdCByYW5kbl9ibSA9ICgpID0+IHtcbiAgICAgICAgbGV0IHUgPSAwLCB2ID0gMDtcbiAgICAgICAgd2hpbGUgKHUgPT09IDApIHUgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICB3aGlsZSAodiA9PT0gMCkgdiA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoLTIuMCAqIE1hdGgubG9nKHUpKSAqIE1hdGguY29zKDIuMCAqIE1hdGguUEkgKiB2KTtcbiAgICB9O1xuXG5cblxuICAgIGNvbnN0IGdlbmVyYXRlVm90ZXJzID0gdXNlQ2FsbGJhY2soKGNvdW50OiBudW1iZXIsIGRpc3RyaWJ1dGlvbjogJ3VuaWZvcm0nIHwgJ25vcm1hbCcgfCAnY2x1c3RlcmVkJykgPT4ge1xuICAgICAgICBjb25zdCBuZXdWb3RlcnM6IFZvdGVyW10gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCB4OiBudW1iZXIsIHk6IG51bWJlcjtcblxuICAgICAgICAgICAgc3dpdGNoIChkaXN0cmlidXRpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdub3JtYWwnOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFuZGFyZERldiA9IDAuMTU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgdmFsdWVzIHVudGlsIHdlIGdldCBvbmUgaW4gYm91bmRzXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgYXZvaWRzIGVkZ2UgYWNjdW11bGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSAwLjUgKyAocmFuZG5fYm0oKSAqIHN0YW5kYXJkRGV2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSAwLjUgKyAocmFuZG5fYm0oKSAqIHN0YW5kYXJkRGV2KTtcbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoeCA8IDAgfHwgeCA+IDEgfHwgeSA8IDAgfHwgeSA+IDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2NsdXN0ZXJlZCc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsdXN0ZXJzID0gW1swLjMsIDAuM10sIFswLjcsIDAuN10sIFswLjUsIDAuNV1dO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbHVzdGVyID0gY2x1c3RlcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2x1c3RlcnMubGVuZ3RoKV07XG4gICAgICAgICAgICAgICAgICAgIHggPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCBjbHVzdGVyWzBdICsgKHJhbmRuX2JtKCkgKiAwLjIpKSk7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCBjbHVzdGVyWzFdICsgKHJhbmRuX2JtKCkgKiAwLjIpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogLy8gdW5pZm9ybVxuICAgICAgICAgICAgICAgICAgICB4ID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgICAgICAgICAgICAgeSA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5ld1ZvdGVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogYHZvdGVyLSR7aX1gLFxuICAgICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgICAgeVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3Vm90ZXJzO1xuICAgIH0sIFtdKTtcblxuXG4gICAgY29uc3QgYWRkQ2FuZGlkYXRlID0gKCkgPT4ge1xuICAgICAgICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPj0gYXZhaWxhYmxlQ29sb3JzLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG5ld0lkID0gKE1hdGgubWF4KDAsIC4uLmNhbmRpZGF0ZXMubWFwKGMgPT4gcGFyc2VJbnQoYy5pZCkpKSArIDEpLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IG5ld0NvbG9yID0gYXZhaWxhYmxlQ29sb3JzW2NhbmRpZGF0ZXMubGVuZ3RoXTtcbiAgICAgICAgY29uc3QgbGV0dGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGNhbmRpZGF0ZXMubGVuZ3RoKTtcblxuICAgICAgICBzZXRDYW5kaWRhdGVzKFsuLi5jYW5kaWRhdGVzLCB7XG4gICAgICAgICAgICBpZDogbmV3SWQsXG4gICAgICAgICAgICB4OiAwLjUsXG4gICAgICAgICAgICB5OiAwLjUsXG4gICAgICAgICAgICBjb2xvcjogbmV3Q29sb3IsXG4gICAgICAgICAgICBuYW1lOiBgQ2FuZGlkYXRlICR7bGV0dGVyfWBcbiAgICAgICAgfV0pO1xuICAgIH07XG5cbiAgICBjb25zdCByZW1vdmVDYW5kaWRhdGUgPSAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPD0gMikgcmV0dXJuO1xuICAgICAgICBzZXRDYW5kaWRhdGVzKGNhbmRpZGF0ZXMuZmlsdGVyKGMgPT4gYy5pZCAhPT0gaWQpKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ2FuZGlkYXRlTmFtZSA9IChpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc2V0Q2FuZGlkYXRlcyhjYW5kaWRhdGVzLm1hcChjID0+XG4gICAgICAgICAgICBjLmlkID09PSBpZCA/IHsgLi4uYywgbmFtZSB9IDogY1xuICAgICAgICApKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlQ2FuZGlkYXRlUG9zaXRpb24gPSAoaWQ6IHN0cmluZywgbmV3WDogbnVtYmVyLCBuZXdZOiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgeCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIG5ld1gpKTtcbiAgICAgICAgY29uc3QgeSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIG5ld1kpKTtcblxuICAgICAgICBzZXRDYW5kaWRhdGVzKGNhbmRpZGF0ZXMubWFwKGMgPT5cbiAgICAgICAgICAgIGMuaWQgPT09IGlkID8geyAuLi5jLCB4LCB5IH0gOiBjXG4gICAgICAgICkpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDb29yZGluYXRlSW5wdXQgPSAoaWQ6IHN0cmluZywgY29vcmQ6ICd4JyB8ICd5JywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBudW1WYWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICBpZiAoaXNOYU4obnVtVmFsdWUpKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY2FuZGlkYXRlID0gY2FuZGlkYXRlcy5maW5kKGMgPT4gYy5pZCA9PT0gaWQpO1xuICAgICAgICBpZiAoIWNhbmRpZGF0ZSkgcmV0dXJuO1xuXG4gICAgICAgIHVwZGF0ZUNhbmRpZGF0ZVBvc2l0aW9uKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBjb29yZCA9PT0gJ3gnID8gbnVtVmFsdWUgOiBjYW5kaWRhdGUueCxcbiAgICAgICAgICAgIGNvb3JkID09PSAneScgPyBudW1WYWx1ZSA6IGNhbmRpZGF0ZS55XG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRyYXdWaXN1YWxpemF0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjYW52YXMpIHJldHVybjtcblxuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgaWYgKCFjdHgpIHJldHVybjtcblxuICAgICAgICBjb25zdCB3aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcblxuICAgICAgICAvLyBEcmF3IHRoZSB2b3RpbmcgbWFwXG4gICAgICAgIGNvbnN0IGltYWdlRGF0YSA9IGN0eC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZvdGVyWCA9IHggLyB3aWR0aDtcbiAgICAgICAgICAgICAgICBjb25zdCB2b3RlclkgPSAxIC0gKHkgLyBoZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHdpbm5lcklkO1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE1ldGhvZCA9PT0gJ2FwcHJvdmFsJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgYXBwcm92YWwsIGNvbG9yIGJhc2VkIG9uIGFwcHJvdmVkIGNhbmRpZGF0ZXNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlZnMgPSBnZXRWb3RlclByZWZlcmVuY2Uodm90ZXJYLCB2b3RlclksIGNhbmRpZGF0ZXMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcHByb3ZlZENhbmRpZGF0ZXMgPSBwcmVmcy5maWx0ZXIocCA9PiBwLmRpc3QgPD0gYXBwcm92YWxUaHJlc2hvbGQpO1xuICAgICAgICAgICAgICAgICAgICB3aW5uZXJJZCA9IGFwcHJvdmVkQ2FuZGlkYXRlcy5sZW5ndGggPiAwID8gYXBwcm92ZWRDYW5kaWRhdGVzWzBdLmlkIDogcHJlZnNbMF0uaWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZE1ldGhvZCA9PT0gJ2JvcmRhJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgQm9yZGEsIGNvbG9yIGJhc2VkIG9uIHBvaW50c1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVmcyA9IGdldFZvdGVyUHJlZmVyZW5jZSh2b3RlclgsIHZvdGVyWSwgY2FuZGlkYXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgcHJlZnMuZm9yRWFjaCgocCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnNldChwLmlkLCBjYW5kaWRhdGVzLmxlbmd0aCAtIDEgLSBpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHdpbm5lcklkID0gWy4uLnBvaW50cy5lbnRyaWVzKCldLnJlZHVjZSgoYSwgYikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFbMV0gPiBiWzFdID8gYSA6IGIpWzBdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBwbHVyYWxpdHkgYW5kIElSViwgY29sb3IgYmFzZWQgb24gY2xvc2VzdCBjYW5kaWRhdGVcbiAgICAgICAgICAgICAgICAgICAgd2lubmVySWQgPSBnZXRWb3RlclByZWZlcmVuY2Uodm90ZXJYLCB2b3RlclksIGNhbmRpZGF0ZXMpWzBdLmlkO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHdpbm5lckNvbG9yID0gY2FuZGlkYXRlcy5maW5kKGMgPT4gYy5pZCA9PT0gd2lubmVySWQpPy5jb2xvciA/PyAnIzAwMDAwMCc7XG4gICAgICAgICAgICAgICAgY29uc3QgcmdiID0gcGFyc2VJbnQod2lubmVyQ29sb3Iuc2xpY2UoMSksIDE2KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9ICh5ICogd2lkdGggKyB4KSAqIDQ7XG4gICAgICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaWR4XSA9IChyZ2IgPj4gMTYpICYgMjU1OyAgICAgLy8gUlxuICAgICAgICAgICAgICAgIGltYWdlRGF0YS5kYXRhW2lkeCArIDFdID0gKHJnYiA+PiA4KSAmIDI1NTsgIC8vIEdcbiAgICAgICAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpZHggKyAyXSA9IHJnYiAmIDI1NTsgICAgICAgICAvLyBCXG4gICAgICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaWR4ICsgM10gPSAyNTU7ICAgICAgICAgICAgICAgLy8gQVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcblxuICAgICAgICAvLyBEcmF3IHZvdGVyc1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC4zKSc7XG4gICAgICAgIHZvdGVycy5mb3JFYWNoKHZvdGVyID0+IHtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5hcmMoXG4gICAgICAgICAgICAgICAgdm90ZXIueCAqIHdpZHRoLFxuICAgICAgICAgICAgICAgICgxIC0gdm90ZXIueSkgKiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDIgKiBNYXRoLlBJXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRHJhdyBjYW5kaWRhdGVzXG4gICAgICAgIGNhbmRpZGF0ZXMuZm9yRWFjaCgoY2FuZGlkYXRlKSA9PiB7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHguYXJjKFxuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZS54ICogd2lkdGgsXG4gICAgICAgICAgICAgICAgKDEgLSBjYW5kaWRhdGUueSkgKiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgOCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDIgKiBNYXRoLlBJXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gY2FuZGlkYXRlLmNvbG9yO1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDM7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICAgICAgY3R4LmZvbnQgPSAnMTJweCBzYW5zLXNlcmlmJztcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChjYW5kaWRhdGUubmFtZSwgY2FuZGlkYXRlLnggKiB3aWR0aCwgKDEgLSBjYW5kaWRhdGUueSkgKiBoZWlnaHQgKyAyMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZWxlY3RlZE1ldGhvZCA9PT0gJ2FwcHJvdmFsJykge1xuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC4yKSc7XG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgICAgIGNhbmRpZGF0ZXMuZm9yRWFjaCgoY2FuZGlkYXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGN0eC5hcmMoXG4gICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZS54ICogd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICgxIC0gY2FuZGlkYXRlLnkpICogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZhbFRocmVzaG9sZCAqIHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAyICogTWF0aC5QSVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbY2FuZGlkYXRlcywgc2VsZWN0ZWRNZXRob2QsIGFwcHJvdmFsVGhyZXNob2xkLCB2b3RlcnNdKTtcblxuICAgIGNvbnN0IGhhbmRsZUNhbnZhc01vdXNlRG93biA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxDYW52YXNFbGVtZW50PikgPT4ge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFjYW52YXMpIHJldHVybjtcblxuICAgICAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAvLyBBY2NvdW50IGZvciBhbnkgc2NhbGluZyBiZXR3ZWVuIGNhbnZhcyBpbnRlcm5hbCBzaXplIGFuZCBkaXNwbGF5ZWQgc2l6ZVxuICAgICAgICBjb25zdCBzY2FsZVggPSBjYW52YXMud2lkdGggLyByZWN0LndpZHRoO1xuICAgICAgICBjb25zdCBzY2FsZVkgPSBjYW52YXMuaGVpZ2h0IC8gcmVjdC5oZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgeCA9ICgoZS5jbGllbnRYIC0gcmVjdC5sZWZ0KSAqIHNjYWxlWCkgLyBjYW52YXMud2lkdGg7XG4gICAgICAgIGNvbnN0IHkgPSAxIC0gKChlLmNsaWVudFkgLSByZWN0LnRvcCkgKiBzY2FsZVkpIC8gY2FudmFzLmhlaWdodDtcblxuICAgICAgICBjb25zdCBjbGlja2VkQ2FuZGlkYXRlID0gY2FuZGlkYXRlcy5maW5kKGNhbmRpZGF0ZSA9PlxuICAgICAgICAgICAgZGlzdGFuY2UoeCwgeSwgY2FuZGlkYXRlLngsIGNhbmRpZGF0ZS55KSA8IDAuMSAgLy8gSW5jcmVhc2VkIGNsaWNrIGRldGVjdGlvbiBhcmVhXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGNsaWNrZWRDYW5kaWRhdGUpIHtcbiAgICAgICAgICAgIHNldElzRHJhZ2dpbmcoY2xpY2tlZENhbmRpZGF0ZS5pZCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgdGV4dCBzZWxlY3Rpb24gd2hpbGUgZHJhZ2dpbmdcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDYW52YXNNb3VzZU1vdmUgPSAoZTogUmVhY3QuTW91c2VFdmVudDxIVE1MQ2FudmFzRWxlbWVudD4pID0+IHtcbiAgICAgICAgaWYgKGlzRHJhZ2dpbmcgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgICAgICAgICAgaWYgKCFjYW52YXMpIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlWCA9IGNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGg7XG4gICAgICAgICAgICBjb25zdCBzY2FsZVkgPSBjYW52YXMuaGVpZ2h0IC8gcmVjdC5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHggPSAoKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgKiBzY2FsZVgpIC8gY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgY29uc3QgeSA9IDEgLSAoKGUuY2xpZW50WSAtIHJlY3QudG9wKSAqIHNjYWxlWSkgLyBjYW52YXMuaGVpZ2h0O1xuXG4gICAgICAgICAgICAvLyBDbGFtcCB0aGUgdmFsdWVzIGJldHdlZW4gMCBhbmQgMVxuICAgICAgICAgICAgY29uc3QgY2xhbXBlZFggPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB4KSk7XG4gICAgICAgICAgICBjb25zdCBjbGFtcGVkWSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHkpKTtcblxuICAgICAgICAgICAgc2V0Q2FuZGlkYXRlcyhjYW5kaWRhdGVzLm1hcChjYW5kaWRhdGUgPT5cbiAgICAgICAgICAgICAgICBjYW5kaWRhdGUuaWQgPT09IGlzRHJhZ2dpbmcgPyB7IC4uLmNhbmRpZGF0ZSwgeDogY2xhbXBlZFgsIHk6IGNsYW1wZWRZIH0gOiBjYW5kaWRhdGVcbiAgICAgICAgICAgICkpO1xuXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgdGV4dCBzZWxlY3Rpb24gd2hpbGUgZHJhZ2dpbmdcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDYW52YXNNb3VzZVVwID0gKCkgPT4ge1xuICAgICAgICBzZXRJc0RyYWdnaW5nKG51bGwpO1xuICAgIH07XG5cblxuICAgIGNvbnN0IGNhbGN1bGF0ZVdpbm5pbmdBcmVhcyA9IHVzZUNhbGxiYWNrKChtZXRob2Q6IGtleW9mIHR5cGVvZiB2b3RpbmdNZXRob2RzKSA9PiB7XG4gICAgICAgIGNvbnN0IHNhbXBsZVBvaW50cyA9IDUwO1xuICAgICAgICBjb25zdCB2b3RlcyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gICAgICAgIGNhbmRpZGF0ZXMuZm9yRWFjaChjID0+IHZvdGVzLnNldChjLmlkLCAwKSk7XG5cbiAgICAgICAgLy8gRm9yIElSViwgd2UgbmVlZCB0byBjb2xsZWN0IGFsbCB2b3RlcyBmaXJzdFxuICAgICAgICBjb25zdCBhbGxWb3Rlczogc3RyaW5nW11bXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgc2FtcGxlUG9pbnRzOyB4KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgc2FtcGxlUG9pbnRzOyB5KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2b3RlclggPSB4IC8gKHNhbXBsZVBvaW50cyAtIDEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZvdGVyWSA9IHkgLyAoc2FtcGxlUG9pbnRzIC0gMSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgdm90ZVJlc3VsdCA9IHZvdGluZ01ldGhvZHNbbWV0aG9kXSh2b3RlclgsIHZvdGVyWSwgY2FuZGlkYXRlcywgbWV0aG9kID09PSAnYXBwcm92YWwnID8gYXBwcm92YWxUaHJlc2hvbGQgOiB1bmRlZmluZWQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ2FwcHJvdmFsJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgYXBwcm92YWwsIGNvdW50IGFsbCBhcHByb3ZlZCBjYW5kaWRhdGVzXG4gICAgICAgICAgICAgICAgICAgIHZvdGVSZXN1bHQuZm9yRWFjaChpZCA9PiB2b3Rlcy5zZXQoaWQsIHZvdGVzLmdldChpZCkhICsgMSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSAnYm9yZGEnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBCb3JkYSwgZ2l2ZSBwb2ludHMgYmFzZWQgb24gcmFua2luZ1xuICAgICAgICAgICAgICAgICAgICB2b3RlUmVzdWx0LmZvckVhY2goKGlkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdm90ZXMuc2V0KGlkLCB2b3Rlcy5nZXQoaWQpISArIChjYW5kaWRhdGVzLmxlbmd0aCAtIDEgLSBpbmRleCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gJ2lydicpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIElSViwgY29sbGVjdCBhbGwgdm90ZXMgZm9yIGxhdGVyIHByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgYWxsVm90ZXMucHVzaCh2b3RlUmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgcGx1cmFsaXR5LCBqdXN0IGNvdW50IGZpcnN0IHByZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgICAgdm90ZXMuc2V0KHZvdGVSZXN1bHRbMF0sIHZvdGVzLmdldCh2b3RlUmVzdWx0WzBdKSEgKyAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBJUlZcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ2lydicpIHtcbiAgICAgICAgICAgIGxldCByZW1haW5pbmdDYW5kaWRhdGVzID0gbmV3IFNldChjYW5kaWRhdGVzLm1hcChjID0+IGMuaWQpKTtcblxuICAgICAgICAgICAgd2hpbGUgKHJlbWFpbmluZ0NhbmRpZGF0ZXMuc2l6ZSA+IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3VuZFZvdGVzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgICAgICAgICAgICAgICByZW1haW5pbmdDYW5kaWRhdGVzLmZvckVhY2goaWQgPT4gcm91bmRWb3Rlcy5zZXQoaWQsIDApKTtcblxuICAgICAgICAgICAgICAgIC8vIENvdW50IGZpcnN0IHByZWZlcmVuY2VzIGFtb25nIHJlbWFpbmluZyBjYW5kaWRhdGVzXG4gICAgICAgICAgICAgICAgYWxsVm90ZXMuZm9yRWFjaChwcmVmcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0Q2hvaWNlID0gcHJlZnMuZmluZChpZCA9PiByZW1haW5pbmdDYW5kaWRhdGVzLmhhcyhpZCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDaG9pY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdW5kVm90ZXMuc2V0KGZpcnN0Q2hvaWNlLCByb3VuZFZvdGVzLmdldChmaXJzdENob2ljZSkhICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsVm90ZXMgPSBbLi4ucm91bmRWb3Rlcy52YWx1ZXMoKV0ucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFqb3JpdHlUaHJlc2hvbGQgPSB0b3RhbFZvdGVzIC8gMjtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGFueSBjYW5kaWRhdGUgaGFzIGEgbWFqb3JpdHlcbiAgICAgICAgICAgICAgICBjb25zdCBbd2lubmVyXSA9IFsuLi5yb3VuZFZvdGVzLmVudHJpZXMoKV0ucmVkdWNlKChhLCBiKSA9PlxuICAgICAgICAgICAgICAgICAgICBiWzFdID4gYVsxXSA/IGIgOiBhXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAocm91bmRWb3Rlcy5nZXQod2lubmVyKSEgPiBtYWpvcml0eVRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICB2b3Rlcy5jbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVzLmZvckVhY2goYyA9PiB2b3Rlcy5zZXQoYy5pZCwgMCkpO1xuICAgICAgICAgICAgICAgICAgICB2b3Rlcy5zZXQod2lubmVyLCB0b3RhbFZvdGVzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRWxpbWluYXRlIGNhbmRpZGF0ZSB3aXRoIGZld2VzdCB2b3Rlc1xuICAgICAgICAgICAgICAgIGNvbnN0IFtsb3Nlcl0gPSBbLi4ucm91bmRWb3Rlcy5lbnRyaWVzKCldLnJlZHVjZSgoYSwgYikgPT5cbiAgICAgICAgICAgICAgICAgICAgYVsxXSA8IGJbMV0gPyBhIDogYlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcmVtYWluaW5nQ2FuZGlkYXRlcy5kZWxldGUobG9zZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB3ZSBnZXQgaGVyZSB3aXRob3V0IGZpbmRpbmcgYSBtYWpvcml0eSB3aW5uZXIsIHRoZSBsYXN0IHJlbWFpbmluZyBjYW5kaWRhdGUgd2luc1xuICAgICAgICAgICAgaWYgKHJlbWFpbmluZ0NhbmRpZGF0ZXMuc2l6ZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdpbm5lciA9IHJlbWFpbmluZ0NhbmRpZGF0ZXMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZvdGVzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgY2FuZGlkYXRlcy5mb3JFYWNoKGMgPT4gdm90ZXMuc2V0KGMuaWQsIDApKTtcbiAgICAgICAgICAgICAgICB2b3Rlcy5zZXQod2lubmVyLCBzYW1wbGVQb2ludHMgKiBzYW1wbGVQb2ludHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG90YWxQb2ludHMgPSBtZXRob2QgPT09ICdhcHByb3ZhbCcgP1xuICAgICAgICAgICAgWy4uLnZvdGVzLnZhbHVlcygpXS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSA6XG4gICAgICAgICAgICBtZXRob2QgPT09ICdib3JkYScgP1xuICAgICAgICAgICAgICAgIChzYW1wbGVQb2ludHMgKiBzYW1wbGVQb2ludHMgKiAoY2FuZGlkYXRlcy5sZW5ndGggKiAoY2FuZGlkYXRlcy5sZW5ndGggLSAxKSAvIDIpKSA6XG4gICAgICAgICAgICAgICAgc2FtcGxlUG9pbnRzICogc2FtcGxlUG9pbnRzO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBbaWQsIHZvdGVDb3VudF0gb2Ygdm90ZXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICByZXN1bHRzW2lkXSA9ICh2b3RlQ291bnQgLyB0b3RhbFBvaW50cykgKiAxMDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdm90ZXM6IE9iamVjdC5mcm9tRW50cmllcyh2b3RlcyksXG4gICAgICAgICAgICBwZXJjZW50YWdlczogcmVzdWx0c1xuICAgICAgICB9O1xuICAgIH0sIFtjYW5kaWRhdGVzLCB2b3RpbmdNZXRob2RzLCBhcHByb3ZhbFRocmVzaG9sZF0pO1xuXG4gICAgY29uc3QgY2FsY3VsYXRlQWN0dWFsVm90ZXMgPSB1c2VDYWxsYmFjaygobWV0aG9kOiBrZXlvZiB0eXBlb2Ygdm90aW5nTWV0aG9kcykgPT4ge1xuICAgICAgICBpZiAoIWhhc0dlbmVyYXRlZFZvdGVycyB8fCB2b3RlcnMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCB2b3RlcyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gICAgICAgIGNhbmRpZGF0ZXMuZm9yRWFjaChjID0+IHZvdGVzLnNldChjLmlkLCAwKSk7XG5cbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ2lydicpIHtcbiAgICAgICAgICAgIGxldCByZW1haW5pbmdDYW5kaWRhdGVzID0gWy4uLmNhbmRpZGF0ZXNdO1xuICAgICAgICAgICAgY29uc3QgYWxsVm90ZXMgPSB2b3RlcnMubWFwKHZvdGVyID0+XG4gICAgICAgICAgICAgICAgdm90aW5nTWV0aG9kc1ttZXRob2RdKHZvdGVyLngsIHZvdGVyLnksIGNhbmRpZGF0ZXMpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB3aGlsZSAocmVtYWluaW5nQ2FuZGlkYXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91bmRWb3RlcyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gICAgICAgICAgICAgICAgcmVtYWluaW5nQ2FuZGlkYXRlcy5mb3JFYWNoKGMgPT4gcm91bmRWb3Rlcy5zZXQoYy5pZCwgMCkpO1xuXG4gICAgICAgICAgICAgICAgYWxsVm90ZXMuZm9yRWFjaChwcmVmcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0Q2hvaWNlID0gcHJlZnMuZmluZChpZCA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nQ2FuZGlkYXRlcy5zb21lKGMgPT4gYy5pZCA9PT0gaWQpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdENob2ljZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91bmRWb3Rlcy5zZXQoZmlyc3RDaG9pY2UsIHJvdW5kVm90ZXMuZ2V0KGZpcnN0Q2hvaWNlKSEgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbWFqb3JpdHlOZWVkZWQgPSB2b3RlcnMubGVuZ3RoIC8gMjtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWFkZXIgPSBbLi4ucm91bmRWb3Rlcy5lbnRyaWVzKCldLnJlZHVjZSgoYSwgYikgPT5cbiAgICAgICAgICAgICAgICAgICAgYVsxXSA+IGJbMV0gPyBhIDogYlxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBpZiAobGVhZGVyWzFdID4gbWFqb3JpdHlOZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdm90ZXMuc2V0KGxlYWRlclswXSwgbGVhZGVyWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgbG9zZXIgPSBbLi4ucm91bmRWb3Rlcy5lbnRyaWVzKCldLnJlZHVjZSgoYSwgYikgPT5cbiAgICAgICAgICAgICAgICAgICAgYVsxXSA8IGJbMV0gPyBhIDogYlxuICAgICAgICAgICAgICAgIClbMF07XG4gICAgICAgICAgICAgICAgcmVtYWluaW5nQ2FuZGlkYXRlcyA9IHJlbWFpbmluZ0NhbmRpZGF0ZXMuZmlsdGVyKGMgPT4gYy5pZCAhPT0gbG9zZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVtYWluaW5nQ2FuZGlkYXRlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB2b3Rlcy5zZXQocmVtYWluaW5nQ2FuZGlkYXRlc1swXS5pZCwgdm90ZXJzLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2b3RlcnMuZm9yRWFjaCh2b3RlciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgdm90ZVJlc3VsdCA9IHZvdGluZ01ldGhvZHNbbWV0aG9kXSh2b3Rlci54LCB2b3Rlci55LCBjYW5kaWRhdGVzLCBtZXRob2QgPT09ICdhcHByb3ZhbCcgPyBhcHByb3ZhbFRocmVzaG9sZCA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ2FwcHJvdmFsJykge1xuICAgICAgICAgICAgICAgICAgICB2b3RlUmVzdWx0LmZvckVhY2goaWQgPT4gdm90ZXMuc2V0KGlkLCB2b3Rlcy5nZXQoaWQpISArIDEpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gJ2JvcmRhJykge1xuICAgICAgICAgICAgICAgICAgICB2b3RlUmVzdWx0LmZvckVhY2goKGlkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdm90ZXMuc2V0KGlkLCB2b3Rlcy5nZXQoaWQpISArIChjYW5kaWRhdGVzLmxlbmd0aCAtIDEgLSBpbmRleCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2b3Rlcy5zZXQodm90ZVJlc3VsdFswXSwgdm90ZXMuZ2V0KHZvdGVSZXN1bHRbMF0pISArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG90YWxWb3RlcyA9IG1ldGhvZCA9PT0gJ2FwcHJvdmFsJyA/XG4gICAgICAgICAgICBbLi4udm90ZXMudmFsdWVzKCldLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIDpcbiAgICAgICAgICAgIG1ldGhvZCA9PT0gJ2JvcmRhJyA/XG4gICAgICAgICAgICAgICAgKHZvdGVycy5sZW5ndGggKiAoY2FuZGlkYXRlcy5sZW5ndGggKiAoY2FuZGlkYXRlcy5sZW5ndGggLSAxKSAvIDIpKSA6XG4gICAgICAgICAgICAgICAgdm90ZXJzLmxlbmd0aDtcblxuICAgICAgICBjb25zdCByZXN1bHRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgW2lkLCB2b3RlQ291bnRdIG9mIHZvdGVzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgcmVzdWx0c1tpZF0gPSAodm90ZUNvdW50IC8gdG90YWxWb3RlcykgKiAxMDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdm90ZXM6IE9iamVjdC5mcm9tRW50cmllcyh2b3RlcyksXG4gICAgICAgICAgICBwZXJjZW50YWdlczogcmVzdWx0c1xuICAgICAgICB9O1xuICAgIH0sIFtjYW5kaWRhdGVzLCB2b3RlcnMsIGhhc0dlbmVyYXRlZFZvdGVycywgdm90aW5nTWV0aG9kc10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgZHJhd1Zpc3VhbGl6YXRpb24oKTtcbiAgICB9LCBbZHJhd1Zpc3VhbGl6YXRpb25dKTtcblxuXG5cbiAgICBjb25zdCBoYW5kbGVHZW5lcmF0ZVZvdGVycyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3Vm90ZXJzID0gZ2VuZXJhdGVWb3RlcnModm90ZXJDb3VudCwgdm90ZXJEaXN0cmlidXRpb24pO1xuICAgICAgICBzZXRWb3RlcnMobmV3Vm90ZXJzKTtcbiAgICAgICAgc2V0SGFzR2VuZXJhdGVkVm90ZXJzKHRydWUpO1xuICAgIH07XG5cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LTZ4bCBwLTQgYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgbWItNFwiPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItMlwiPlZvdGluZyBNZXRob2QgQ29tcGFyaXNvbjwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtNCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRNZXRob2R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZE1ldGhvZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdy00MCBweC00IHB5LTIgYm9yZGVyIHJvdW5kZWQtbWQgc2hhZG93LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7T2JqZWN0LmVudHJpZXMobWV0aG9kcykubWFwKChbdmFsdWUsIGxhYmVsXSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17dmFsdWV9IHZhbHVlPXt2YWx1ZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1NldHRpbmdzKCFzaG93U2V0dGluZ3MpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ncmF5LTEwMCBob3ZlcjpiZy1ncmF5LTIwMCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2hvd1NldHRpbmdzID8gJ0hpZGUgU2V0dGluZ3MnIDogJ1Nob3cgU2V0dGluZ3MnfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttZXRob2REZXNjcmlwdGlvbnNbc2VsZWN0ZWRNZXRob2QgYXMga2V5b2YgdHlwZW9mIG1ldGhvZHNdfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAge2hhc0dlbmVyYXRlZFZvdGVycyA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBUaGVvcmV0aWNhbCBBcmVhIENvdmVyYWdlICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBiZy1ncmF5LTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5UaGVvcmV0aWNhbCBBcmVhIENvdmVyYWdlPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtNCBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3QuZW50cmllcyhtZXRob2RzKS5tYXAoKFttZXRob2QsIGxhYmVsXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcmVhUmVzdWx0cyA9IGNhbGN1bGF0ZVdpbm5pbmdBcmVhcyhtZXRob2QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3aW5uZXIgPSBjYW5kaWRhdGVzLmZpbmQoYyA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5pZCA9PT0gT2JqZWN0LmVudHJpZXMoYXJlYVJlc3VsdHMucGVyY2VudGFnZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlZHVjZSgoYSwgYikgPT4gYVsxXSA+IGJbMV0gPyBhIDogYilbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2BhcmVhLSR7bWV0aG9kfWB9IGNsYXNzTmFtZT17YHAtMyByb3VuZGVkLWxnIGJvcmRlciAke21ldGhvZCA9PT0gc2VsZWN0ZWRNZXRob2QgPyAnYmctd2hpdGUgYm9yZGVyLWJsdWUtNTAwJyA6ICdiZy13aGl0ZSd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPntsYWJlbH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMgaC0zIHJvdW5kZWQtZnVsbFwiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogd2lubmVyPy5jb2xvciB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57d2lubmVyPy5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YXJlYVJlc3VsdHMucGVyY2VudGFnZXNbd2lubmVyLmlkXS50b0ZpeGVkKDEpfSUgb2YgbWFwIGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBBY3R1YWwgVm90ZXIgUmVzdWx0cyAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctZ3JheS01MCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+QWN0dWFsIFZvdGVyIFJlc3VsdHMgKHt2b3RlcnMubGVuZ3RofSB2b3RlcnMpPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtNCBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtPYmplY3QuZW50cmllcyhtZXRob2RzKS5tYXAoKFttZXRob2QsIGxhYmVsXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2b3RlclJlc3VsdHMgPSBjYWxjdWxhdGVBY3R1YWxWb3RlcyhtZXRob2QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3aW5uZXIgPSBjYW5kaWRhdGVzLmZpbmQoYyA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5pZCA9PT0gT2JqZWN0LmVudHJpZXModm90ZXJSZXN1bHRzLnBlcmNlbnRhZ2VzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGEsIGIpID0+IGFbMV0gPiBiWzFdID8gYSA6IGIpWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtgdm90ZXMtJHttZXRob2R9YH0gY2xhc3NOYW1lPXtgcC0zIHJvdW5kZWQtbGcgYm9yZGVyICR7bWV0aG9kID09PSBzZWxlY3RlZE1ldGhvZCA/ICdiZy13aGl0ZSBib3JkZXItYmx1ZS01MDAnIDogJ2JnLXdoaXRlJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e2xhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMyBoLTMgcm91bmRlZC1mdWxsXCIgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiB3aW5uZXI/LmNvbG9yIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt3aW5uZXI/Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt2b3RlclJlc3VsdHMudm90ZXNbd2lubmVyLmlkXX0gdm90ZXMgKHt2b3RlclJlc3VsdHMucGVyY2VudGFnZXNbd2lubmVyLmlkXS50b0ZpeGVkKDEpfSUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHAtNCBiZy1ncmF5LTEwMCByb3VuZGVkLWxnIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbWItMlwiPkdlbmVyYXRlIHZvdGVycyB0byBzZWUgZWxlY3Rpb24gcmVzdWx0czwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR2VuZXJhdGVWb3RlcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkIGhvdmVyOmJnLWJsdWUtNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgR2VuZXJhdGUge3ZvdGVyQ291bnR9IFZvdGVyc1xuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHtzaG93U2V0dGluZ3MgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBwLTQgYmctZ3JheS01MCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+Q2FuZGlkYXRlczwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhbmRpZGF0ZXMubWFwKChjYW5kaWRhdGUpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtjYW5kaWRhdGUuaWR9IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtMiBwLTIgYm9yZGVyIHJvdW5kZWQgYmctd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgcm91bmRlZC1mdWxsXCIgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBjYW5kaWRhdGUuY29sb3IgfX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2NhbmRpZGF0ZS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZUNhbmRpZGF0ZU5hbWUoY2FuZGlkYXRlLmlkLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBib3JkZXIgcm91bmRlZCB3LTMyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc21cIj5YOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y2FuZGlkYXRlLngudG9GaXhlZCgyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ29vcmRpbmF0ZUlucHV0KGNhbmRpZGF0ZS5pZCwgJ3gnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4wNVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD1cIjFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJvcmRlciByb3VuZGVkIHctMjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbVwiPlk6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjYW5kaWRhdGUueS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVDb29yZGluYXRlSW5wdXQoY2FuZGlkYXRlLmlkLCAneScsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjA1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4PVwiMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgYm9yZGVyIHJvdW5kZWQgdy0yMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByZW1vdmVDYW5kaWRhdGUoY2FuZGlkYXRlLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIHRleHQtcmVkLTYwMCBob3ZlcjpiZy1yZWQtNTAgcm91bmRlZCBtbC1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlbW92ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthZGRDYW5kaWRhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkIGhvdmVyOmJnLWJsdWUtNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjYW5kaWRhdGVzLmxlbmd0aCA+PSBhdmFpbGFibGVDb2xvcnMubGVuZ3RofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGQgQ2FuZGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+VGlwOiBZb3UgY2FuIGFkanVzdCBwb3NpdGlvbnMgYnkgZWl0aGVyOjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZGlzYyBtbC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+RHJhZ2dpbmcgdGhlIGNpcmNsZXMgb24gdGhlIHZpc3VhbGl6YXRpb248L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPkVudGVyaW5nIGNvb3JkaW5hdGVzICgwLTEgcmFuZ2UgZm9yIGJvdGggWCBhbmQgWSk8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlZvdGVyIFNldHRpbmdzPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+TnVtYmVyIG9mIFZvdGVyczo8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZvdGVyQ291bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRWb3RlckNvdW50KE1hdGgubWF4KDEsIHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSB8fCAwKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJvcmRlciByb3VuZGVkIHctMjRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRWb3RlcnMoZ2VuZXJhdGVWb3RlcnModm90ZXJDb3VudCwgdm90ZXJEaXN0cmlidXRpb24pKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkIGhvdmVyOmJnLWJsdWUtNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHZW5lcmF0ZSBWb3RlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkRpc3RyaWJ1dGlvbjo8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2b3RlckRpc3RyaWJ1dGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFZvdGVyRGlzdHJpYnV0aW9uKGUudGFyZ2V0LnZhbHVlIGFzIHR5cGVvZiB2b3RlckRpc3RyaWJ1dGlvbil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJvcmRlciByb3VuZGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidW5pZm9ybVwiPlVuaWZvcm08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibm9ybWFsXCI+Tm9ybWFsPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImNsdXN0ZXJlZFwiPkNsdXN0ZXJlZDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZE1ldGhvZCA9PT0gJ2FwcHJvdmFsJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPkFwcHJvdmFsIFZvdGluZyBTZXR0aW5nczwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5BcHByb3ZhbCBUaHJlc2hvbGQ6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiMC4xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg9XCIwLjVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjA1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17YXBwcm92YWxUaHJlc2hvbGR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBcHByb3ZhbFRocmVzaG9sZChwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy00MFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+eyhhcHByb3ZhbFRocmVzaG9sZCAqIDEwMCkudG9GaXhlZCgwKX0lPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICAgICAgICA8Y2FudmFzXG4gICAgICAgICAgICAgICAgICAgIHJlZj17Y2FudmFzUmVmfVxuICAgICAgICAgICAgICAgICAgICB3aWR0aD17NDAwfVxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9ezQwMH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciByb3VuZGVkIGN1cnNvci1tb3ZlXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgdG91Y2hBY3Rpb246ICdub25lJyB9fVxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17aGFuZGxlQ2FudmFzTW91c2VEb3dufVxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTW92ZT17aGFuZGxlQ2FudmFzTW91c2VNb3ZlfVxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlVXA9e2hhbmRsZUNhbnZhc01vdXNlVXB9XG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17aGFuZGxlQ2FudmFzTW91c2VVcH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgeyBWb3RpbmdNZXRob2RWaXogfTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJkaXN0YW5jZSIsImdldFZvdGVyUHJlZmVyZW5jZSIsIm1ldGhvZERlc2NyaXB0aW9ucyIsIm1ldGhvZHMiLCJ2b3RpbmdNZXRob2RzIiwiVm90aW5nTWV0aG9kVml6IiwiY2FudmFzUmVmIiwiY2FuZGlkYXRlcyIsInNldENhbmRpZGF0ZXMiLCJpZCIsIngiLCJ5IiwiY29sb3IiLCJuYW1lIiwic2VsZWN0ZWRNZXRob2QiLCJzZXRTZWxlY3RlZE1ldGhvZCIsImlzRHJhZ2dpbmciLCJzZXRJc0RyYWdnaW5nIiwiYXBwcm92YWxUaHJlc2hvbGQiLCJzZXRBcHByb3ZhbFRocmVzaG9sZCIsInNob3dTZXR0aW5ncyIsInNldFNob3dTZXR0aW5ncyIsInZvdGVycyIsInNldFZvdGVycyIsInZvdGVyQ291bnQiLCJzZXRWb3RlckNvdW50Iiwidm90ZXJEaXN0cmlidXRpb24iLCJzZXRWb3RlckRpc3RyaWJ1dGlvbiIsImhhc0dlbmVyYXRlZFZvdGVycyIsInNldEhhc0dlbmVyYXRlZFZvdGVycyIsImF2YWlsYWJsZUNvbG9ycyIsInJhbmRuX2JtIiwidSIsInYiLCJNYXRoIiwicmFuZG9tIiwic3FydCIsImxvZyIsImNvcyIsIlBJIiwiZ2VuZXJhdGVWb3RlcnMiLCJjb3VudCIsImRpc3RyaWJ1dGlvbiIsIm5ld1ZvdGVycyIsImkiLCJzdGFuZGFyZERldiIsImNsdXN0ZXJzIiwiY2x1c3RlciIsImZsb29yIiwibGVuZ3RoIiwibWluIiwibWF4IiwicHVzaCIsImFkZENhbmRpZGF0ZSIsIm5ld0lkIiwibWFwIiwiYyIsInBhcnNlSW50IiwidG9TdHJpbmciLCJuZXdDb2xvciIsImxldHRlciIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInJlbW92ZUNhbmRpZGF0ZSIsImZpbHRlciIsInVwZGF0ZUNhbmRpZGF0ZU5hbWUiLCJ1cGRhdGVDYW5kaWRhdGVQb3NpdGlvbiIsIm5ld1giLCJuZXdZIiwiaGFuZGxlQ29vcmRpbmF0ZUlucHV0IiwiY29vcmQiLCJ2YWx1ZSIsIm51bVZhbHVlIiwicGFyc2VGbG9hdCIsImlzTmFOIiwiY2FuZGlkYXRlIiwiZmluZCIsImRyYXdWaXN1YWxpemF0aW9uIiwiY2FudmFzIiwiY3VycmVudCIsImN0eCIsImdldENvbnRleHQiLCJ3aWR0aCIsImhlaWdodCIsImltYWdlRGF0YSIsImNyZWF0ZUltYWdlRGF0YSIsInZvdGVyWCIsInZvdGVyWSIsIndpbm5lcklkIiwicHJlZnMiLCJhcHByb3ZlZENhbmRpZGF0ZXMiLCJwIiwiZGlzdCIsInBvaW50cyIsIk1hcCIsImZvckVhY2giLCJzZXQiLCJlbnRyaWVzIiwicmVkdWNlIiwiYSIsImIiLCJ3aW5uZXJDb2xvciIsInJnYiIsInNsaWNlIiwiaWR4IiwiZGF0YSIsInB1dEltYWdlRGF0YSIsImZpbGxTdHlsZSIsInZvdGVyIiwiYmVnaW5QYXRoIiwiYXJjIiwiZmlsbCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlIiwiZm9udCIsInRleHRBbGlnbiIsImZpbGxUZXh0IiwiaGFuZGxlQ2FudmFzTW91c2VEb3duIiwiZSIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzY2FsZVgiLCJzY2FsZVkiLCJjbGllbnRYIiwibGVmdCIsImNsaWVudFkiLCJ0b3AiLCJjbGlja2VkQ2FuZGlkYXRlIiwicHJldmVudERlZmF1bHQiLCJoYW5kbGVDYW52YXNNb3VzZU1vdmUiLCJjbGFtcGVkWCIsImNsYW1wZWRZIiwiaGFuZGxlQ2FudmFzTW91c2VVcCIsImNhbGN1bGF0ZVdpbm5pbmdBcmVhcyIsIm1ldGhvZCIsInNhbXBsZVBvaW50cyIsInZvdGVzIiwiYWxsVm90ZXMiLCJ2b3RlUmVzdWx0IiwidW5kZWZpbmVkIiwiZ2V0IiwiaW5kZXgiLCJyZW1haW5pbmdDYW5kaWRhdGVzIiwiU2V0Iiwic2l6ZSIsInJvdW5kVm90ZXMiLCJmaXJzdENob2ljZSIsImhhcyIsInRvdGFsVm90ZXMiLCJ2YWx1ZXMiLCJtYWpvcml0eVRocmVzaG9sZCIsIndpbm5lciIsImNsZWFyIiwibG9zZXIiLCJkZWxldGUiLCJuZXh0IiwidG90YWxQb2ludHMiLCJyZXN1bHRzIiwidm90ZUNvdW50IiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJwZXJjZW50YWdlcyIsImNhbGN1bGF0ZUFjdHVhbFZvdGVzIiwic29tZSIsIm1ham9yaXR5TmVlZGVkIiwibGVhZGVyIiwiaGFuZGxlR2VuZXJhdGVWb3RlcnMiLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsInNlbGVjdCIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwibGFiZWwiLCJvcHRpb24iLCJidXR0b24iLCJvbkNsaWNrIiwiaDMiLCJhcmVhUmVzdWx0cyIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwic3BhbiIsInRvRml4ZWQiLCJ2b3RlclJlc3VsdHMiLCJpbnB1dCIsInR5cGUiLCJzdGVwIiwiZGlzYWJsZWQiLCJ1bCIsImxpIiwicmVmIiwidG91Y2hBY3Rpb24iLCJvbk1vdXNlRG93biIsIm9uTW91c2VNb3ZlIiwib25Nb3VzZVVwIiwib25Nb3VzZUxlYXZlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/components/VotingMethodViz.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/components/votingMethods.ts":
/*!*****************************************!*\
  !*** ./app/components/votingMethods.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   distance: () => (/* binding */ distance),\n/* harmony export */   getVoterPreference: () => (/* binding */ getVoterPreference),\n/* harmony export */   methodDescriptions: () => (/* binding */ methodDescriptions),\n/* harmony export */   methods: () => (/* binding */ methods),\n/* harmony export */   votingMethods: () => (/* binding */ votingMethods)\n/* harmony export */ });\n// Constants\nconst methods = {\n    plurality: 'Plurality',\n    approval: 'Approval',\n    borda: 'Borda Count',\n    irv: 'Instant Runoff',\n    smithApproval: 'Smith Set + Approval'\n};\nconst methodDescriptions = {\n    plurality: \"Each voter chooses their closest candidate. The candidate with the most votes wins.\",\n    approval: \"Voters 'approve' all candidates within a certain distance. The most approved candidate wins.\",\n    borda: \"Voters rank candidates by distance. Each rank gives points (n-1 for 1st, n-2 for 2nd, etc.). Highest points wins.\",\n    irv: \"Voters rank by distance. If no majority, eliminate last place and retry with remaining candidates.\",\n    smithApproval: \"First finds candidates who beat all others outside their set in pairwise matchups (Smith set), then uses approval voting among them.\"\n};\n// Utility functions\nconst distance = (x1, y1, x2, y2)=>Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\nfunction getPairwisePreferences(voterX, voterY, candidates) {\n    const prefs = getVoterPreference(voterX, voterY, candidates);\n    const pairs = [];\n    // Create all possible pairs in order of preference\n    for(let i = 0; i < prefs.length; i++){\n        for(let j = i + 1; j < prefs.length; j++){\n            pairs.push([\n                prefs[i].id,\n                prefs[j].id\n            ]);\n        }\n    }\n    return pairs;\n}\nfunction findSmithSet(voterX, voterY, candidates) {\n    const pairs = getPairwisePreferences(voterX, voterY, candidates);\n    const defeats = new Map();\n    // Initialize defeats map\n    candidates.forEach((c)=>defeats.set(c.id, new Set()));\n    // Record all pairwise defeats\n    pairs.forEach((param)=>{\n        let [winner, loser] = param;\n        var _defeats_get;\n        (_defeats_get = defeats.get(winner)) === null || _defeats_get === void 0 ? void 0 : _defeats_get.add(loser);\n    });\n    // Find Smith set\n    const smithSet = new Set(candidates.map((c)=>c.id));\n    let changed = true;\n    while(changed){\n        changed = false;\n        for (const candidate of smithSet){\n            for (const other of smithSet){\n                if (candidate !== other) {\n                    var _defeats_get, _defeats_get1;\n                    // If candidate doesn't beat other, and other beats candidate\n                    if (!((_defeats_get = defeats.get(candidate)) === null || _defeats_get === void 0 ? void 0 : _defeats_get.has(other)) && ((_defeats_get1 = defeats.get(other)) === null || _defeats_get1 === void 0 ? void 0 : _defeats_get1.has(candidate))) {\n                        smithSet.delete(candidate);\n                        changed = true;\n                        break;\n                    }\n                }\n            }\n            if (changed) break;\n        }\n    }\n    return smithSet;\n}\nconst getVoterPreference = (voterX, voterY, candidates)=>{\n    return candidates.map((candidate)=>({\n            id: candidate.id,\n            dist: distance(voterX, voterY, candidate.x, candidate.y)\n        })).sort((a, b)=>a.dist - b.dist);\n};\n// Voting method implementations\nconst votingMethods = {\n    plurality: (voterX, voterY, candidates)=>{\n        return [\n            getVoterPreference(voterX, voterY, candidates)[0].id\n        ];\n    },\n    approval: (voterX, voterY, candidates, approvalThreshold)=>{\n        const prefs = getVoterPreference(voterX, voterY, candidates);\n        const approvedCandidates = prefs.filter((p)=>p.dist <= approvalThreshold);\n        return approvedCandidates.length > 0 ? approvedCandidates.map((c)=>c.id) : [\n            prefs[0].id\n        ];\n    },\n    borda: (voterX, voterY, candidates)=>{\n        const prefs = getVoterPreference(voterX, voterY, candidates);\n        const points = new Map();\n        prefs.forEach((p, i)=>{\n            points.set(p.id, candidates.length - 1 - i);\n        });\n        return [\n            ...points.entries()\n        ].sort((a, b)=>b[1] - a[1]).map((param)=>{\n            let [id] = param;\n            return id;\n        });\n    },\n    irv: (voterX, voterY, candidates)=>{\n        return getVoterPreference(voterX, voterY, candidates).map((p)=>p.id);\n    },\n    smithApproval: function(voterX, voterY, candidates) {\n        let approvalThreshold = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0.3;\n        // First find the Smith set\n        const smithSet = findSmithSet(voterX, voterY, candidates);\n        // Then run approval voting only among Smith set members\n        const smithCandidates = candidates.filter((c)=>smithSet.has(c.id));\n        return votingMethods.approval(voterX, voterY, smithCandidates, approvalThreshold);\n    }\n}; // // Election running functions\n // export const runPluralityElection = (\n //     voters: Voter[], \n //     candidates: Candidate[]\n // ): ElectionResult => {\n //     const votes: Record<string, number> = {};\n //     candidates.forEach(c => votes[c.id] = 0);\n //     voters.forEach(voter => {\n //         const pref = getVoterPreference(voter.x, voter.y, candidates);\n //         votes[pref[0].id]++;\n //     });\n //     const winnerId = Object.entries(votes)\n //         .reduce((a, b) => a[1] > b[1] ? a : b)[0];\n //     return {\n //         winnerId,\n //         votes,\n //         roundDetails: [`Total votes: ${voters.length}`]\n //     };\n // };\n // export const runApprovalElection = (\n //     voters: Voter[], \n //     candidates: Candidate[],\n //     approvalThreshold: number\n // ): ElectionResult => {\n //     const votes: Record<string, number> = {};\n //     candidates.forEach(c => votes[c.id] = 0);\n //     voters.forEach(voter => {\n //         const prefs = getVoterPreference(voter.x, voter.y, candidates);\n //         prefs.forEach(p => {\n //             if (p.dist <= approvalThreshold) {\n //                 votes[p.id]++;\n //             }\n //         });\n //     });\n //     const winnerId = Object.entries(votes)\n //         .reduce((a, b) => a[1] > b[1] ? a : b)[0];\n //     return {\n //         winnerId,\n //         votes,\n //         roundDetails: [`Average approvals per voter: ${(Object.values(votes).reduce((a, b) => a + b, 0) / voters.length).toFixed(2)}`]\n //     };\n // };\n // export const runBordaElection = (\n //     voters: Voter[], \n //     candidates: Candidate[]\n // ): ElectionResult => {\n //     const votes: Record<string, number> = {};\n //     candidates.forEach(c => votes[c.id] = 0);\n //     voters.forEach(voter => {\n //         const prefs = getVoterPreference(voter.x, voter.y, candidates);\n //         prefs.forEach((p, i) => {\n //             votes[p.id] += candidates.length - 1 - i;\n //         });\n //     });\n //     const winnerId = Object.entries(votes)\n //         .reduce((a, b) => a[1] > b[1] ? a : b)[0];\n //     return {\n //         winnerId,\n //         votes,\n //         roundDetails: [`Total Borda points: ${Object.values(votes).reduce((a, b) => a + b, 0)}`]\n //     };\n // };\n // export const runIRVElection = (\n //     voters: Voter[], \n //     candidates: Candidate[]\n // ): ElectionResult => {\n //     let remainingCandidates = [...candidates];\n //     const roundDetails: string[] = [];\n //     const eliminated: string[] = [];\n //     while (remainingCandidates.length > 1) {\n //         const roundVotes: Record<string, number> = {};\n //         remainingCandidates.forEach(c => roundVotes[c.id] = 0);\n //         voters.forEach(voter => {\n //             const prefs = getVoterPreference(voter.x, voter.y, candidates)\n //                 .filter(p => remainingCandidates.some(c => c.id === p.id));\n //             roundVotes[prefs[0].id]++;\n //         });\n //         const majorityNeeded = voters.length / 2;\n //         const leader = Object.entries(roundVotes)\n //             .reduce((a, b) => a[1] > b[1] ? a : b);\n //         if (leader[1] > majorityNeeded) {\n //             return {\n //                 winnerId: leader[0],\n //                 votes: roundVotes,\n //                 roundDetails: [...roundDetails, `Final round: ${leader[0]} wins with ${leader[1]} votes`],\n //                 eliminated\n //             };\n //         }\n //         const loser = Object.entries(roundVotes)\n //             .reduce((a, b) => a[1] < b[1] ? a : b);\n //         remainingCandidates = remainingCandidates.filter(c => c.id !== loser[0]);\n //         eliminated.push(loser[0]);\n //         roundDetails.push(\n //             `Round ${roundDetails.length + 1}: ${candidates.find(c => c.id === loser[0])?.name} eliminated with ${loser[1]} votes`\n //         );\n //     }\n //     return {\n //         winnerId: remainingCandidates[0].id,\n //         votes: { [remainingCandidates[0].id]: voters.length },\n //         roundDetails,\n //         eliminated\n //     };\n // };\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb21wb25lbnRzL3ZvdGluZ01ldGhvZHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFQSxZQUFZO0FBQ0wsTUFBTUEsVUFBVTtJQUNuQkMsV0FBVztJQUNYQyxVQUFVO0lBQ1ZDLE9BQU87SUFDUEMsS0FBSztJQUNMQyxlQUFlO0FBQ25CLEVBQUU7QUFFSyxNQUFNQyxxQkFBcUI7SUFDOUJMLFdBQVc7SUFDWEMsVUFBVTtJQUNWQyxPQUFPO0lBQ1BDLEtBQUs7SUFDTEMsZUFBZTtBQUNuQixFQUFFO0FBRUYsb0JBQW9CO0FBQ2IsTUFBTUUsV0FBVyxDQUFDQyxJQUFZQyxJQUFZQyxJQUFZQyxLQUN6REMsS0FBS0MsSUFBSSxDQUFDLENBQUNILEtBQUtGLEVBQUMsS0FBTSxJQUFJLENBQUNHLEtBQUtGLEVBQUMsS0FBTSxHQUFHO0FBRS9DLFNBQVNLLHVCQUF1QkMsTUFBYyxFQUFFQyxNQUFjLEVBQUVDLFVBQXVCO0lBQ3JGLE1BQU1DLFFBQVFDLG1CQUFtQkosUUFBUUMsUUFBUUM7SUFDakQsTUFBTUcsUUFBNEIsRUFBRTtJQUVwQyxtREFBbUQ7SUFDbkQsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlILE1BQU1JLE1BQU0sRUFBRUQsSUFBSztRQUNuQyxJQUFLLElBQUlFLElBQUlGLElBQUksR0FBR0UsSUFBSUwsTUFBTUksTUFBTSxFQUFFQyxJQUFLO1lBQ3ZDSCxNQUFNSSxJQUFJLENBQUM7Z0JBQUNOLEtBQUssQ0FBQ0csRUFBRSxDQUFDSSxFQUFFO2dCQUFFUCxLQUFLLENBQUNLLEVBQUUsQ0FBQ0UsRUFBRTthQUFDO1FBQ3pDO0lBQ0o7SUFFQSxPQUFPTDtBQUNUO0FBRUEsU0FBU00sYUFBYVgsTUFBYyxFQUFFQyxNQUFjLEVBQUVDLFVBQXVCO0lBQzNFLE1BQU1HLFFBQVFOLHVCQUF1QkMsUUFBUUMsUUFBUUM7SUFDckQsTUFBTVUsVUFBVSxJQUFJQztJQUVwQix5QkFBeUI7SUFDekJYLFdBQVdZLE9B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O0NBQ3hELGNBQWM7Q0FDZCxVQUFVO0NBRVYsNkNBQTZDO0NBQzdDLHFEQUFxRDtDQUVyRCxlQUFlO0NBQ2Ysb0JBQW9CO0NBQ3BCLGlCQUFpQjtDQUNqQixtR0FBbUc7Q0FDbkcsU0FBUztDQUNULEtBQUs7Q0FFTCxrQ0FBa0M7Q0FDbEMsd0JBQXdCO0NBQ3hCLDhCQUE4QjtDQUM5Qix5QkFBeUI7Q0FDekIsaURBQWlEO0NBQ2pELHlDQUF5QztDQUN6Qyx1Q0FBdUM7Q0FFdkMsK0NBQStDO0NBQy9DLHlEQUF5RDtDQUN6RCxrRUFBa0U7Q0FFbEUsb0NBQW9DO0NBQ3BDLDZFQUE2RTtDQUM3RSw4RUFBOEU7Q0FDOUUseUNBQXlDO0NBQ3pDLGNBQWM7Q0FFZCxvREFBb0Q7Q0FDcEQsb0RBQW9EO0NBQ3BELHNEQUFzRDtDQUV0RCw0Q0FBNEM7Q0FDNUMsdUJBQXVCO0NBQ3ZCLHVDQUF1QztDQUN2QyxxQ0FBcUM7Q0FDckMsNkdBQTZHO0NBQzdHLDZCQUE2QjtDQUM3QixpQkFBaUI7Q0FDakIsWUFBWTtDQUVaLG1EQUFtRDtDQUNuRCxzREFBc0Q7Q0FDdEQsb0ZBQW9GO0NBQ3BGLHFDQUFxQztDQUVyQyw2QkFBNkI7Q0FDN0IscUlBQXFJO0NBQ3JJLGFBQWE7Q0FDYixRQUFRO0NBRVIsZUFBZTtDQUNmLCtDQUErQztDQUMvQyxpRUFBaUU7Q0FDakUsd0JBQXdCO0NBQ3hCLHFCQUFxQjtDQUNyQixTQUFTO0NBQ1QsS0FBSyIsInNvdXJjZXMiOlsiL1VzZXJzL2p1bGl1cy9naXQvVm90ZUxhYi9Wb3RlTGFiL3BhY2thZ2VzL3Zpc3VhbGl6YXRpb25zL2FwcC9jb21wb25lbnRzL3ZvdGluZ01ldGhvZHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FuZGlkYXRlIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8vIENvbnN0YW50c1xuZXhwb3J0IGNvbnN0IG1ldGhvZHMgPSB7XG4gICAgcGx1cmFsaXR5OiAnUGx1cmFsaXR5JyxcbiAgICBhcHByb3ZhbDogJ0FwcHJvdmFsJyxcbiAgICBib3JkYTogJ0JvcmRhIENvdW50JyxcbiAgICBpcnY6ICdJbnN0YW50IFJ1bm9mZicsXG4gICAgc21pdGhBcHByb3ZhbDogJ1NtaXRoIFNldCArIEFwcHJvdmFsJ1xufTtcblxuZXhwb3J0IGNvbnN0IG1ldGhvZERlc2NyaXB0aW9ucyA9IHtcbiAgICBwbHVyYWxpdHk6IFwiRWFjaCB2b3RlciBjaG9vc2VzIHRoZWlyIGNsb3Nlc3QgY2FuZGlkYXRlLiBUaGUgY2FuZGlkYXRlIHdpdGggdGhlIG1vc3Qgdm90ZXMgd2lucy5cIixcbiAgICBhcHByb3ZhbDogXCJWb3RlcnMgJ2FwcHJvdmUnIGFsbCBjYW5kaWRhdGVzIHdpdGhpbiBhIGNlcnRhaW4gZGlzdGFuY2UuIFRoZSBtb3N0IGFwcHJvdmVkIGNhbmRpZGF0ZSB3aW5zLlwiLFxuICAgIGJvcmRhOiBcIlZvdGVycyByYW5rIGNhbmRpZGF0ZXMgYnkgZGlzdGFuY2UuIEVhY2ggcmFuayBnaXZlcyBwb2ludHMgKG4tMSBmb3IgMXN0LCBuLTIgZm9yIDJuZCwgZXRjLikuIEhpZ2hlc3QgcG9pbnRzIHdpbnMuXCIsXG4gICAgaXJ2OiBcIlZvdGVycyByYW5rIGJ5IGRpc3RhbmNlLiBJZiBubyBtYWpvcml0eSwgZWxpbWluYXRlIGxhc3QgcGxhY2UgYW5kIHJldHJ5IHdpdGggcmVtYWluaW5nIGNhbmRpZGF0ZXMuXCIsXG4gICAgc21pdGhBcHByb3ZhbDogXCJGaXJzdCBmaW5kcyBjYW5kaWRhdGVzIHdobyBiZWF0IGFsbCBvdGhlcnMgb3V0c2lkZSB0aGVpciBzZXQgaW4gcGFpcndpc2UgbWF0Y2h1cHMgKFNtaXRoIHNldCksIHRoZW4gdXNlcyBhcHByb3ZhbCB2b3RpbmcgYW1vbmcgdGhlbS5cIlxufTtcblxuLy8gVXRpbGl0eSBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBkaXN0YW5jZSA9ICh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogbnVtYmVyID0+XG4gICAgTWF0aC5zcXJ0KCh4MiAtIHgxKSAqKiAyICsgKHkyIC0geTEpICoqIDIpO1xuXG5mdW5jdGlvbiBnZXRQYWlyd2lzZVByZWZlcmVuY2VzKHZvdGVyWDogbnVtYmVyLCB2b3Rlclk6IG51bWJlciwgY2FuZGlkYXRlczogQ2FuZGlkYXRlW10pOiBbc3RyaW5nLCBzdHJpbmddW10ge1xuICBjb25zdCBwcmVmcyA9IGdldFZvdGVyUHJlZmVyZW5jZSh2b3RlclgsIHZvdGVyWSwgY2FuZGlkYXRlcyk7XG4gIGNvbnN0IHBhaXJzOiBbc3RyaW5nLCBzdHJpbmddW10gPSBbXTtcbiAgXG4gIC8vIENyZWF0ZSBhbGwgcG9zc2libGUgcGFpcnMgaW4gb3JkZXIgb2YgcHJlZmVyZW5jZVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHByZWZzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBwcmVmcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHBhaXJzLnB1c2goW3ByZWZzW2ldLmlkLCBwcmVmc1tqXS5pZF0pO1xuICAgICAgfVxuICB9XG4gIFxuICByZXR1cm4gcGFpcnM7XG59XG5cbmZ1bmN0aW9uIGZpbmRTbWl0aFNldCh2b3Rlclg6IG51bWJlciwgdm90ZXJZOiBudW1iZXIsIGNhbmRpZGF0ZXM6IENhbmRpZGF0ZVtdKTogU2V0PHN0cmluZz4ge1xuICBjb25zdCBwYWlycyA9IGdldFBhaXJ3aXNlUHJlZmVyZW5jZXModm90ZXJYLCB2b3RlclksIGNhbmRpZGF0ZXMpO1xuICBjb25zdCBkZWZlYXRzID0gbmV3IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PigpO1xuICBcbiAgLy8gSW5pdGlhbGl6ZSBkZWZlYXRzIG1hcFxuICBjYW5kaWRhdGVzLmZvckVhY2goYyA9PiBkZWZlYXRzLnNldChjLmlkLCBuZXcgU2V0PHN0cmluZz4oKSkpO1xuICBcbiAgLy8gUmVjb3JkIGFsbCBwYWlyd2lzZSBkZWZlYXRzXG4gIHBhaXJzLmZvckVhY2goKFt3aW5uZXIsIGxvc2VyXSkgPT4ge1xuICAgICAgZGVmZWF0cy5nZXQod2lubmVyKT8uYWRkKGxvc2VyKTtcbiAgfSk7XG4gIFxuICAvLyBGaW5kIFNtaXRoIHNldFxuICBjb25zdCBzbWl0aFNldCA9IG5ldyBTZXQ8c3RyaW5nPihjYW5kaWRhdGVzLm1hcChjID0+IGMuaWQpKTtcbiAgbGV0IGNoYW5nZWQgPSB0cnVlO1xuICBcbiAgd2hpbGUgKGNoYW5nZWQpIHtcbiAgICAgIGNoYW5nZWQgPSBmYWxzZTtcbiAgICAgIGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIHNtaXRoU2V0KSB7XG4gICAgICAgICAgZm9yIChjb25zdCBvdGhlciBvZiBzbWl0aFNldCkge1xuICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSBvdGhlcikge1xuICAgICAgICAgICAgICAgICAgLy8gSWYgY2FuZGlkYXRlIGRvZXNuJ3QgYmVhdCBvdGhlciwgYW5kIG90aGVyIGJlYXRzIGNhbmRpZGF0ZVxuICAgICAgICAgICAgICAgICAgaWYgKCFkZWZlYXRzLmdldChjYW5kaWRhdGUpPy5oYXMob3RoZXIpICYmIGRlZmVhdHMuZ2V0KG90aGVyKT8uaGFzKGNhbmRpZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzbWl0aFNldC5kZWxldGUoY2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2hhbmdlZCkgYnJlYWs7XG4gICAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBzbWl0aFNldDtcbn1cblxuZXhwb3J0IGNvbnN0IGdldFZvdGVyUHJlZmVyZW5jZSA9IChcbiAgICB2b3Rlclg6IG51bWJlciwgXG4gICAgdm90ZXJZOiBudW1iZXIsIFxuICAgIGNhbmRpZGF0ZXM6IENhbmRpZGF0ZVtdXG4pID0+IHtcbiAgICByZXR1cm4gY2FuZGlkYXRlc1xuICAgICAgICAubWFwKChjYW5kaWRhdGUpID0+ICh7XG4gICAgICAgICAgICBpZDogY2FuZGlkYXRlLmlkLFxuICAgICAgICAgICAgZGlzdDogZGlzdGFuY2Uodm90ZXJYLCB2b3RlclksIGNhbmRpZGF0ZS54LCBjYW5kaWRhdGUueSlcbiAgICAgICAgfSkpXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmRpc3QgLSBiLmRpc3QpO1xufTtcblxuLy8gVm90aW5nIG1ldGhvZCBpbXBsZW1lbnRhdGlvbnNcbmV4cG9ydCBjb25zdCB2b3RpbmdNZXRob2RzID0ge1xuICAgIHBsdXJhbGl0eTogKHZvdGVyWDogbnVtYmVyLCB2b3Rlclk6IG51bWJlciwgY2FuZGlkYXRlczogQ2FuZGlkYXRlW10pID0+IHtcbiAgICAgICAgcmV0dXJuIFtnZXRWb3RlclByZWZlcmVuY2Uodm90ZXJYLCB2b3RlclksIGNhbmRpZGF0ZXMpWzBdLmlkXTtcbiAgICB9LFxuXG4gICAgYXBwcm92YWw6ICh2b3Rlclg6IG51bWJlciwgdm90ZXJZOiBudW1iZXIsIGNhbmRpZGF0ZXM6IENhbmRpZGF0ZVtdLCBhcHByb3ZhbFRocmVzaG9sZDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZWZzID0gZ2V0Vm90ZXJQcmVmZXJlbmNlKHZvdGVyWCwgdm90ZXJZLCBjYW5kaWRhdGVzKTtcbiAgICAgICAgY29uc3QgYXBwcm92ZWRDYW5kaWRhdGVzID0gcHJlZnMuZmlsdGVyKHAgPT4gcC5kaXN0IDw9IGFwcHJvdmFsVGhyZXNob2xkKTtcbiAgICAgICAgcmV0dXJuIGFwcHJvdmVkQ2FuZGlkYXRlcy5sZW5ndGggPiAwID8gYXBwcm92ZWRDYW5kaWRhdGVzLm1hcChjID0+IGMuaWQpIDogW3ByZWZzWzBdLmlkXTtcbiAgICB9LFxuXG4gICAgYm9yZGE6ICh2b3Rlclg6IG51bWJlciwgdm90ZXJZOiBudW1iZXIsIGNhbmRpZGF0ZXM6IENhbmRpZGF0ZVtdKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZWZzID0gZ2V0Vm90ZXJQcmVmZXJlbmNlKHZvdGVyWCwgdm90ZXJZLCBjYW5kaWRhdGVzKTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcblxuICAgICAgICBwcmVmcy5mb3JFYWNoKChwLCBpKSA9PiB7XG4gICAgICAgICAgICBwb2ludHMuc2V0KHAuaWQsIChjYW5kaWRhdGVzLmxlbmd0aCAtIDEgLSBpKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBbLi4ucG9pbnRzLmVudHJpZXMoKV1cbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBiWzFdIC0gYVsxXSlcbiAgICAgICAgICAgIC5tYXAoKFtpZF0pID0+IGlkKTtcbiAgICB9LFxuXG4gICAgaXJ2OiAodm90ZXJYOiBudW1iZXIsIHZvdGVyWTogbnVtYmVyLCBjYW5kaWRhdGVzOiBDYW5kaWRhdGVbXSkgPT4ge1xuICAgICAgICByZXR1cm4gZ2V0Vm90ZXJQcmVmZXJlbmNlKHZvdGVyWCwgdm90ZXJZLCBjYW5kaWRhdGVzKS5tYXAocCA9PiBwLmlkKTtcbiAgICB9LFxuXG4gICAgc21pdGhBcHByb3ZhbDogKHZvdGVyWDogbnVtYmVyLCB2b3Rlclk6IG51bWJlciwgY2FuZGlkYXRlczogQ2FuZGlkYXRlW10sIGFwcHJvdmFsVGhyZXNob2xkOiBudW1iZXIgPSAwLjMpID0+IHtcbiAgICAgIC8vIEZpcnN0IGZpbmQgdGhlIFNtaXRoIHNldFxuICAgICAgY29uc3Qgc21pdGhTZXQgPSBmaW5kU21pdGhTZXQodm90ZXJYLCB2b3RlclksIGNhbmRpZGF0ZXMpO1xuICAgICAgXG4gICAgICAvLyBUaGVuIHJ1biBhcHByb3ZhbCB2b3Rpbmcgb25seSBhbW9uZyBTbWl0aCBzZXQgbWVtYmVyc1xuICAgICAgY29uc3Qgc21pdGhDYW5kaWRhdGVzID0gY2FuZGlkYXRlcy5maWx0ZXIoYyA9PiBzbWl0aFNldC5oYXMoYy5pZCkpO1xuICAgICAgcmV0dXJuIHZvdGluZ01ldGhvZHMuYXBwcm92YWwodm90ZXJYLCB2b3RlclksIHNtaXRoQ2FuZGlkYXRlcywgYXBwcm92YWxUaHJlc2hvbGQpO1xuICB9XG59O1xuXG4vLyAvLyBFbGVjdGlvbiBydW5uaW5nIGZ1bmN0aW9uc1xuLy8gZXhwb3J0IGNvbnN0IHJ1blBsdXJhbGl0eUVsZWN0aW9uID0gKFxuLy8gICAgIHZvdGVyczogVm90ZXJbXSwgXG4vLyAgICAgY2FuZGlkYXRlczogQ2FuZGlkYXRlW11cbi8vICk6IEVsZWN0aW9uUmVzdWx0ID0+IHtcbi8vICAgICBjb25zdCB2b3RlczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuLy8gICAgIGNhbmRpZGF0ZXMuZm9yRWFjaChjID0+IHZvdGVzW2MuaWRdID0gMCk7XG5cbi8vICAgICB2b3RlcnMuZm9yRWFjaCh2b3RlciA9PiB7XG4vLyAgICAgICAgIGNvbnN0IHByZWYgPSBnZXRWb3RlclByZWZlcmVuY2Uodm90ZXIueCwgdm90ZXIueSwgY2FuZGlkYXRlcyk7XG4vLyAgICAgICAgIHZvdGVzW3ByZWZbMF0uaWRdKys7XG4vLyAgICAgfSk7XG5cbi8vICAgICBjb25zdCB3aW5uZXJJZCA9IE9iamVjdC5lbnRyaWVzKHZvdGVzKVxuLy8gICAgICAgICAucmVkdWNlKChhLCBiKSA9PiBhWzFdID4gYlsxXSA/IGEgOiBiKVswXTtcblxuLy8gICAgIHJldHVybiB7XG4vLyAgICAgICAgIHdpbm5lcklkLFxuLy8gICAgICAgICB2b3Rlcyxcbi8vICAgICAgICAgcm91bmREZXRhaWxzOiBbYFRvdGFsIHZvdGVzOiAke3ZvdGVycy5sZW5ndGh9YF1cbi8vICAgICB9O1xuLy8gfTtcblxuLy8gZXhwb3J0IGNvbnN0IHJ1bkFwcHJvdmFsRWxlY3Rpb24gPSAoXG4vLyAgICAgdm90ZXJzOiBWb3RlcltdLCBcbi8vICAgICBjYW5kaWRhdGVzOiBDYW5kaWRhdGVbXSxcbi8vICAgICBhcHByb3ZhbFRocmVzaG9sZDogbnVtYmVyXG4vLyApOiBFbGVjdGlvblJlc3VsdCA9PiB7XG4vLyAgICAgY29uc3Qgdm90ZXM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbi8vICAgICBjYW5kaWRhdGVzLmZvckVhY2goYyA9PiB2b3Rlc1tjLmlkXSA9IDApO1xuXG4vLyAgICAgdm90ZXJzLmZvckVhY2godm90ZXIgPT4ge1xuLy8gICAgICAgICBjb25zdCBwcmVmcyA9IGdldFZvdGVyUHJlZmVyZW5jZSh2b3Rlci54LCB2b3Rlci55LCBjYW5kaWRhdGVzKTtcbi8vICAgICAgICAgcHJlZnMuZm9yRWFjaChwID0+IHtcbi8vICAgICAgICAgICAgIGlmIChwLmRpc3QgPD0gYXBwcm92YWxUaHJlc2hvbGQpIHtcbi8vICAgICAgICAgICAgICAgICB2b3Rlc1twLmlkXSsrO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9KTtcbi8vICAgICB9KTtcblxuLy8gICAgIGNvbnN0IHdpbm5lcklkID0gT2JqZWN0LmVudHJpZXModm90ZXMpXG4vLyAgICAgICAgIC5yZWR1Y2UoKGEsIGIpID0+IGFbMV0gPiBiWzFdID8gYSA6IGIpWzBdO1xuXG4vLyAgICAgcmV0dXJuIHtcbi8vICAgICAgICAgd2lubmVySWQsXG4vLyAgICAgICAgIHZvdGVzLFxuLy8gICAgICAgICByb3VuZERldGFpbHM6IFtgQXZlcmFnZSBhcHByb3ZhbHMgcGVyIHZvdGVyOiAkeyhPYmplY3QudmFsdWVzKHZvdGVzKS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIHZvdGVycy5sZW5ndGgpLnRvRml4ZWQoMil9YF1cbi8vICAgICB9O1xuLy8gfTtcblxuLy8gZXhwb3J0IGNvbnN0IHJ1bkJvcmRhRWxlY3Rpb24gPSAoXG4vLyAgICAgdm90ZXJzOiBWb3RlcltdLCBcbi8vICAgICBjYW5kaWRhdGVzOiBDYW5kaWRhdGVbXVxuLy8gKTogRWxlY3Rpb25SZXN1bHQgPT4ge1xuLy8gICAgIGNvbnN0IHZvdGVzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4vLyAgICAgY2FuZGlkYXRlcy5mb3JFYWNoKGMgPT4gdm90ZXNbYy5pZF0gPSAwKTtcblxuLy8gICAgIHZvdGVycy5mb3JFYWNoKHZvdGVyID0+IHtcbi8vICAgICAgICAgY29uc3QgcHJlZnMgPSBnZXRWb3RlclByZWZlcmVuY2Uodm90ZXIueCwgdm90ZXIueSwgY2FuZGlkYXRlcyk7XG4vLyAgICAgICAgIHByZWZzLmZvckVhY2goKHAsIGkpID0+IHtcbi8vICAgICAgICAgICAgIHZvdGVzW3AuaWRdICs9IGNhbmRpZGF0ZXMubGVuZ3RoIC0gMSAtIGk7XG4vLyAgICAgICAgIH0pO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgY29uc3Qgd2lubmVySWQgPSBPYmplY3QuZW50cmllcyh2b3Rlcylcbi8vICAgICAgICAgLnJlZHVjZSgoYSwgYikgPT4gYVsxXSA+IGJbMV0gPyBhIDogYilbMF07XG5cbi8vICAgICByZXR1cm4ge1xuLy8gICAgICAgICB3aW5uZXJJZCxcbi8vICAgICAgICAgdm90ZXMsXG4vLyAgICAgICAgIHJvdW5kRGV0YWlsczogW2BUb3RhbCBCb3JkYSBwb2ludHM6ICR7T2JqZWN0LnZhbHVlcyh2b3RlcykucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCl9YF1cbi8vICAgICB9O1xuLy8gfTtcblxuLy8gZXhwb3J0IGNvbnN0IHJ1bklSVkVsZWN0aW9uID0gKFxuLy8gICAgIHZvdGVyczogVm90ZXJbXSwgXG4vLyAgICAgY2FuZGlkYXRlczogQ2FuZGlkYXRlW11cbi8vICk6IEVsZWN0aW9uUmVzdWx0ID0+IHtcbi8vICAgICBsZXQgcmVtYWluaW5nQ2FuZGlkYXRlcyA9IFsuLi5jYW5kaWRhdGVzXTtcbi8vICAgICBjb25zdCByb3VuZERldGFpbHM6IHN0cmluZ1tdID0gW107XG4vLyAgICAgY29uc3QgZWxpbWluYXRlZDogc3RyaW5nW10gPSBbXTtcblxuLy8gICAgIHdoaWxlIChyZW1haW5pbmdDYW5kaWRhdGVzLmxlbmd0aCA+IDEpIHtcbi8vICAgICAgICAgY29uc3Qgcm91bmRWb3RlczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuLy8gICAgICAgICByZW1haW5pbmdDYW5kaWRhdGVzLmZvckVhY2goYyA9PiByb3VuZFZvdGVzW2MuaWRdID0gMCk7XG5cbi8vICAgICAgICAgdm90ZXJzLmZvckVhY2godm90ZXIgPT4ge1xuLy8gICAgICAgICAgICAgY29uc3QgcHJlZnMgPSBnZXRWb3RlclByZWZlcmVuY2Uodm90ZXIueCwgdm90ZXIueSwgY2FuZGlkYXRlcylcbi8vICAgICAgICAgICAgICAgICAuZmlsdGVyKHAgPT4gcmVtYWluaW5nQ2FuZGlkYXRlcy5zb21lKGMgPT4gYy5pZCA9PT0gcC5pZCkpO1xuLy8gICAgICAgICAgICAgcm91bmRWb3Rlc1twcmVmc1swXS5pZF0rKztcbi8vICAgICAgICAgfSk7XG5cbi8vICAgICAgICAgY29uc3QgbWFqb3JpdHlOZWVkZWQgPSB2b3RlcnMubGVuZ3RoIC8gMjtcbi8vICAgICAgICAgY29uc3QgbGVhZGVyID0gT2JqZWN0LmVudHJpZXMocm91bmRWb3Rlcylcbi8vICAgICAgICAgICAgIC5yZWR1Y2UoKGEsIGIpID0+IGFbMV0gPiBiWzFdID8gYSA6IGIpO1xuXG4vLyAgICAgICAgIGlmIChsZWFkZXJbMV0gPiBtYWpvcml0eU5lZWRlZCkge1xuLy8gICAgICAgICAgICAgcmV0dXJuIHtcbi8vICAgICAgICAgICAgICAgICB3aW5uZXJJZDogbGVhZGVyWzBdLFxuLy8gICAgICAgICAgICAgICAgIHZvdGVzOiByb3VuZFZvdGVzLFxuLy8gICAgICAgICAgICAgICAgIHJvdW5kRGV0YWlsczogWy4uLnJvdW5kRGV0YWlscywgYEZpbmFsIHJvdW5kOiAke2xlYWRlclswXX0gd2lucyB3aXRoICR7bGVhZGVyWzFdfSB2b3Rlc2BdLFxuLy8gICAgICAgICAgICAgICAgIGVsaW1pbmF0ZWRcbi8vICAgICAgICAgICAgIH07XG4vLyAgICAgICAgIH1cblxuLy8gICAgICAgICBjb25zdCBsb3NlciA9IE9iamVjdC5lbnRyaWVzKHJvdW5kVm90ZXMpXG4vLyAgICAgICAgICAgICAucmVkdWNlKChhLCBiKSA9PiBhWzFdIDwgYlsxXSA/IGEgOiBiKTtcbi8vICAgICAgICAgcmVtYWluaW5nQ2FuZGlkYXRlcyA9IHJlbWFpbmluZ0NhbmRpZGF0ZXMuZmlsdGVyKGMgPT4gYy5pZCAhPT0gbG9zZXJbMF0pO1xuLy8gICAgICAgICBlbGltaW5hdGVkLnB1c2gobG9zZXJbMF0pO1xuXG4vLyAgICAgICAgIHJvdW5kRGV0YWlscy5wdXNoKFxuLy8gICAgICAgICAgICAgYFJvdW5kICR7cm91bmREZXRhaWxzLmxlbmd0aCArIDF9OiAke2NhbmRpZGF0ZXMuZmluZChjID0+IGMuaWQgPT09IGxvc2VyWzBdKT8ubmFtZX0gZWxpbWluYXRlZCB3aXRoICR7bG9zZXJbMV19IHZvdGVzYFxuLy8gICAgICAgICApO1xuLy8gICAgIH1cblxuLy8gICAgIHJldHVybiB7XG4vLyAgICAgICAgIHdpbm5lcklkOiByZW1haW5pbmdDYW5kaWRhdGVzWzBdLmlkLFxuLy8gICAgICAgICB2b3RlczogeyBbcmVtYWluaW5nQ2FuZGlkYXRlc1swXS5pZF06IHZvdGVycy5sZW5ndGggfSxcbi8vICAgICAgICAgcm91bmREZXRhaWxzLFxuLy8gICAgICAgICBlbGltaW5hdGVkXG4vLyAgICAgfTtcbi8vIH07XG4iXSwibmFtZXMiOlsibWV0aG9kcyIsInBsdXJhbGl0eSIsImFwcHJvdmFsIiwiYm9yZGEiLCJpcnYiLCJzbWl0aEFwcHJvdmFsIiwibWV0aG9kRGVzY3JpcHRpb25zIiwiZGlzdGFuY2UiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIk1hdGgiLCJzcXJ0IiwiZ2V0UGFpcndpc2VQcmVmZXJlbmNlcyIsInZvdGVyWCIsInZvdGVyWSIsImNhbmRpZGF0ZXMiLCJwcmVmcyIsImdldFZvdGVyUHJlZmVyZW5jZSIsInBhaXJzIiwiaSIsImxlbmd0aCIsImoiLCJwdXNoIiwiaWQiLCJmaW5kU21pdGhTZXQiLCJkZWZlYXRzIiwiTWFwIiwiZm9yRWFjaCIsImMiLCJzZXQiLCJTZXQiLCJ3aW5uZXIiLCJsb3NlciIsImdldCIsImFkZCIsInNtaXRoU2V0IiwibWFwIiwiY2hhbmdlZCIsImNhbmRpZGF0ZSIsIm90aGVyIiwiaGFzIiwiZGVsZXRlIiwiZGlzdCIsIngiLCJ5Iiwic29ydCIsImEiLCJiIiwidm90aW5nTWV0aG9kcyIsImFwcHJvdmFsVGhyZXNob2xkIiwiYXBwcm92ZWRDYW5kaWRhdGVzIiwiZmlsdGVyIiwicCIsInBvaW50cyIsImVudHJpZXMiLCJzbWl0aENhbmRpZGF0ZXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/components/votingMethods.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _components_VotingMethodViz__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/VotingMethodViz */ \"(app-pages-browser)/./app/components/VotingMethodViz.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nfunction Home() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        className: \"flex min-h-screen flex-col items-center justify-between p-24\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_VotingMethodViz__WEBPACK_IMPORTED_MODULE_1__.VotingMethodViz, {}, void 0, false, {\n            fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/page.tsx\",\n            lineNumber: 8,\n            columnNumber: 13\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/julius/git/VoteLab/VoteLab/packages/visualizations/app/page.tsx\",\n        lineNumber: 7,\n        columnNumber: 9\n    }, this);\n}\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRStEO0FBRWhELFNBQVNDO0lBQ3BCLHFCQUNJLDhEQUFDQztRQUFLQyxXQUFVO2tCQUNaLDRFQUFDSCx3RUFBZUE7Ozs7Ozs7Ozs7QUFHNUI7S0FOd0JDIiwic291cmNlcyI6WyIvVXNlcnMvanVsaXVzL2dpdC9Wb3RlTGFiL1ZvdGVMYWIvcGFja2FnZXMvdmlzdWFsaXphdGlvbnMvYXBwL3BhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IFZvdGluZ01ldGhvZFZpeiB9IGZyb20gJy4vY29tcG9uZW50cy9Wb3RpbmdNZXRob2RWaXonO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb21lKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxtYWluIGNsYXNzTmFtZT1cImZsZXggbWluLWgtc2NyZWVuIGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC0yNFwiPlxuICAgICAgICAgICAgPFZvdGluZ01ldGhvZFZpeiAvPlxuICAgICAgICA8L21haW4+XG4gICAgKVxufVxuIl0sIm5hbWVzIjpbIlZvdGluZ01ldGhvZFZpeiIsIkhvbWUiLCJtYWluIiwiY2xhc3NOYW1lIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/../../node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!********************************************************************************************!*\
  !*** ../../node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n true &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE$2\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PORTAL_TYPE:\n          return \"Portal\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_CONTEXT_TYPE:\n            return (type.displayName || \"Context\") + \".Provider\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function disabledLog() {}\n    function disableLogs() {\n      if (0 === disabledDepth) {\n        prevLog = console.log;\n        prevInfo = console.info;\n        prevWarn = console.warn;\n        prevError = console.error;\n        prevGroup = console.group;\n        prevGroupCollapsed = console.groupCollapsed;\n        prevGroupEnd = console.groupEnd;\n        var props = {\n          configurable: !0,\n          enumerable: !0,\n          value: disabledLog,\n          writable: !0\n        };\n        Object.defineProperties(console, {\n          info: props,\n          log: props,\n          warn: props,\n          error: props,\n          group: props,\n          groupCollapsed: props,\n          groupEnd: props\n        });\n      }\n      disabledDepth++;\n    }\n    function reenableLogs() {\n      disabledDepth--;\n      if (0 === disabledDepth) {\n        var props = { configurable: !0, enumerable: !0, writable: !0 };\n        Object.defineProperties(console, {\n          log: assign({}, props, { value: prevLog }),\n          info: assign({}, props, { value: prevInfo }),\n          warn: assign({}, props, { value: prevWarn }),\n          error: assign({}, props, { value: prevError }),\n          group: assign({}, props, { value: prevGroup }),\n          groupCollapsed: assign({}, props, { value: prevGroupCollapsed }),\n          groupEnd: assign({}, props, { value: prevGroupEnd })\n        });\n      }\n      0 > disabledDepth &&\n        console.error(\n          \"disabledDepth fell below zero. This is a bug in React. Please file an issue.\"\n        );\n    }\n    function describeBuiltInComponentFrame(name) {\n      if (void 0 === prefix)\n        try {\n          throw Error();\n        } catch (x) {\n          var match = x.stack.trim().match(/\\n( *(at )?)/);\n          prefix = (match && match[1]) || \"\";\n          suffix =\n            -1 < x.stack.indexOf(\"\\n    at\")\n              ? \" (<anonymous>)\"\n              : -1 < x.stack.indexOf(\"@\")\n                ? \"@unknown:0:0\"\n                : \"\";\n        }\n      return \"\\n\" + prefix + name + suffix;\n    }\n    function describeNativeComponentFrame(fn, construct) {\n      if (!fn || reentry) return \"\";\n      var frame = componentFrameCache.get(fn);\n      if (void 0 !== frame) return frame;\n      reentry = !0;\n      frame = Error.prepareStackTrace;\n      Error.prepareStackTrace = void 0;\n      var previousDispatcher = null;\n      previousDispatcher = ReactSharedInternals.H;\n      ReactSharedInternals.H = null;\n      disableLogs();\n      try {\n        var RunInRootFrame = {\n          DetermineComponentFrameRoot: function () {\n            try {\n              if (construct) {\n                var Fake = function () {\n                  throw Error();\n                };\n                Object.defineProperty(Fake.prototype, \"props\", {\n                  set: function () {\n                    throw Error();\n                  }\n                });\n                if (\"object\" === typeof Reflect && Reflect.construct) {\n                  try {\n                    Reflect.construct(Fake, []);\n                  } catch (x) {\n                    var control = x;\n                  }\n                  Reflect.construct(fn, [], Fake);\n                } else {\n                  try {\n                    Fake.call();\n                  } catch (x$0) {\n                    control = x$0;\n                  }\n                  fn.call(Fake.prototype);\n                }\n              } else {\n                try {\n                  throw Error();\n                } catch (x$1) {\n                  control = x$1;\n                }\n                (Fake = fn()) &&\n                  \"function\" === typeof Fake.catch &&\n                  Fake.catch(function () {});\n              }\n            } catch (sample) {\n              if (sample && control && \"string\" === typeof sample.stack)\n                return [sample.stack, control.stack];\n            }\n            return [null, null];\n          }\n        };\n        RunInRootFrame.DetermineComponentFrameRoot.displayName =\n          \"DetermineComponentFrameRoot\";\n        var namePropDescriptor = Object.getOwnPropertyDescriptor(\n          RunInRootFrame.DetermineComponentFrameRoot,\n          \"name\"\n        );\n        namePropDescriptor &&\n          namePropDescriptor.configurable &&\n          Object.defineProperty(\n            RunInRootFrame.DetermineComponentFrameRoot,\n            \"name\",\n            { value: \"DetermineComponentFrameRoot\" }\n          );\n        var _RunInRootFrame$Deter =\n            RunInRootFrame.DetermineComponentFrameRoot(),\n          sampleStack = _RunInRootFrame$Deter[0],\n          controlStack = _RunInRootFrame$Deter[1];\n        if (sampleStack && controlStack) {\n          var sampleLines = sampleStack.split(\"\\n\"),\n            controlLines = controlStack.split(\"\\n\");\n          for (\n            _RunInRootFrame$Deter = namePropDescriptor = 0;\n            namePropDescriptor < sampleLines.length &&\n            !sampleLines[namePropDescriptor].includes(\n              \"DetermineComponentFrameRoot\"\n            );\n\n          )\n            namePropDescriptor++;\n          for (\n            ;\n            _RunInRootFrame$Deter < controlLines.length &&\n            !controlLines[_RunInRootFrame$Deter].includes(\n              \"DetermineComponentFrameRoot\"\n            );\n\n          )\n            _RunInRootFrame$Deter++;\n          if (\n            namePropDescriptor === sampleLines.length ||\n            _RunInRootFrame$Deter === controlLines.length\n          )\n            for (\n              namePropDescriptor = sampleLines.length - 1,\n                _RunInRootFrame$Deter = controlLines.length - 1;\n              1 <= namePropDescriptor &&\n              0 <= _RunInRootFrame$Deter &&\n              sampleLines[namePropDescriptor] !==\n                controlLines[_RunInRootFrame$Deter];\n\n            )\n              _RunInRootFrame$Deter--;\n          for (\n            ;\n            1 <= namePropDescriptor && 0 <= _RunInRootFrame$Deter;\n            namePropDescriptor--, _RunInRootFrame$Deter--\n          )\n            if (\n              sampleLines[namePropDescriptor] !==\n              controlLines[_RunInRootFrame$Deter]\n            ) {\n              if (1 !== namePropDescriptor || 1 !== _RunInRootFrame$Deter) {\n                do\n                  if (\n                    (namePropDescriptor--,\n                    _RunInRootFrame$Deter--,\n                    0 > _RunInRootFrame$Deter ||\n                      sampleLines[namePropDescriptor] !==\n                        controlLines[_RunInRootFrame$Deter])\n                  ) {\n                    var _frame =\n                      \"\\n\" +\n                      sampleLines[namePropDescriptor].replace(\n                        \" at new \",\n                        \" at \"\n                      );\n                    fn.displayName &&\n                      _frame.includes(\"<anonymous>\") &&\n                      (_frame = _frame.replace(\"<anonymous>\", fn.displayName));\n                    \"function\" === typeof fn &&\n                      componentFrameCache.set(fn, _frame);\n                    return _frame;\n                  }\n                while (1 <= namePropDescriptor && 0 <= _RunInRootFrame$Deter);\n              }\n              break;\n            }\n        }\n      } finally {\n        (reentry = !1),\n          (ReactSharedInternals.H = previousDispatcher),\n          reenableLogs(),\n          (Error.prepareStackTrace = frame);\n      }\n      sampleLines = (sampleLines = fn ? fn.displayName || fn.name : \"\")\n        ? describeBuiltInComponentFrame(sampleLines)\n        : \"\";\n      \"function\" === typeof fn && componentFrameCache.set(fn, sampleLines);\n      return sampleLines;\n    }\n    function describeUnknownElementTypeFrameInDEV(type) {\n      if (null == type) return \"\";\n      if (\"function\" === typeof type) {\n        var prototype = type.prototype;\n        return describeNativeComponentFrame(\n          type,\n          !(!prototype || !prototype.isReactComponent)\n        );\n      }\n      if (\"string\" === typeof type) return describeBuiltInComponentFrame(type);\n      switch (type) {\n        case REACT_SUSPENSE_TYPE:\n          return describeBuiltInComponentFrame(\"Suspense\");\n        case REACT_SUSPENSE_LIST_TYPE:\n          return describeBuiltInComponentFrame(\"SuspenseList\");\n      }\n      if (\"object\" === typeof type)\n        switch (type.$$typeof) {\n          case REACT_FORWARD_REF_TYPE:\n            return (type = describeNativeComponentFrame(type.render, !1)), type;\n          case REACT_MEMO_TYPE:\n            return describeUnknownElementTypeFrameInDEV(type.type);\n          case REACT_LAZY_TYPE:\n            prototype = type._payload;\n            type = type._init;\n            try {\n              return describeUnknownElementTypeFrameInDEV(type(prototype));\n            } catch (x) {}\n        }\n      return \"\";\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(type, key, self, source, owner, props) {\n      self = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== self ? self : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self\n    ) {\n      if (\n        \"string\" === typeof type ||\n        \"function\" === typeof type ||\n        type === REACT_FRAGMENT_TYPE ||\n        type === REACT_PROFILER_TYPE ||\n        type === REACT_STRICT_MODE_TYPE ||\n        type === REACT_SUSPENSE_TYPE ||\n        type === REACT_SUSPENSE_LIST_TYPE ||\n        type === REACT_OFFSCREEN_TYPE ||\n        (\"object\" === typeof type &&\n          null !== type &&\n          (type.$$typeof === REACT_LAZY_TYPE ||\n            type.$$typeof === REACT_MEMO_TYPE ||\n            type.$$typeof === REACT_CONTEXT_TYPE ||\n            type.$$typeof === REACT_CONSUMER_TYPE ||\n            type.$$typeof === REACT_FORWARD_REF_TYPE ||\n            type.$$typeof === REACT_CLIENT_REFERENCE$1 ||\n            void 0 !== type.getModuleId))\n      ) {\n        var children = config.children;\n        if (void 0 !== children)\n          if (isStaticChildren)\n            if (isArrayImpl(children)) {\n              for (\n                isStaticChildren = 0;\n                isStaticChildren < children.length;\n                isStaticChildren++\n              )\n                validateChildKeys(children[isStaticChildren], type);\n              Object.freeze && Object.freeze(children);\n            } else\n              console.error(\n                \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n              );\n          else validateChildKeys(children, type);\n      } else {\n        children = \"\";\n        if (\n          void 0 === type ||\n          (\"object\" === typeof type &&\n            null !== type &&\n            0 === Object.keys(type).length)\n        )\n          children +=\n            \" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\";\n        null === type\n          ? (isStaticChildren = \"null\")\n          : isArrayImpl(type)\n            ? (isStaticChildren = \"array\")\n            : void 0 !== type && type.$$typeof === REACT_ELEMENT_TYPE\n              ? ((isStaticChildren =\n                  \"<\" +\n                  (getComponentNameFromType(type.type) || \"Unknown\") +\n                  \" />\"),\n                (children =\n                  \" Did you accidentally export a JSX literal instead of a component?\"))\n              : (isStaticChildren = typeof type);\n        console.error(\n          \"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",\n          isStaticChildren,\n          children\n        );\n      }\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(type, children, self, source, getOwner(), maybeKey);\n    }\n    function validateChildKeys(node, parentType) {\n      if (\n        \"object\" === typeof node &&\n        node &&\n        node.$$typeof !== REACT_CLIENT_REFERENCE\n      )\n        if (isArrayImpl(node))\n          for (var i = 0; i < node.length; i++) {\n            var child = node[i];\n            isValidElement(child) && validateExplicitKey(child, parentType);\n          }\n        else if (isValidElement(node))\n          node._store && (node._store.validated = 1);\n        else if (\n          (null === node || \"object\" !== typeof node\n            ? (i = null)\n            : ((i =\n                (MAYBE_ITERATOR_SYMBOL && node[MAYBE_ITERATOR_SYMBOL]) ||\n                node[\"@@iterator\"]),\n              (i = \"function\" === typeof i ? i : null)),\n          \"function\" === typeof i &&\n            i !== node.entries &&\n            ((i = i.call(node)), i !== node))\n        )\n          for (; !(node = i.next()).done; )\n            isValidElement(node.value) &&\n              validateExplicitKey(node.value, parentType);\n    }\n    function isValidElement(object) {\n      return (\n        \"object\" === typeof object &&\n        null !== object &&\n        object.$$typeof === REACT_ELEMENT_TYPE\n      );\n    }\n    function validateExplicitKey(element, parentType) {\n      if (\n        element._store &&\n        !element._store.validated &&\n        null == element.key &&\n        ((element._store.validated = 1),\n        (parentType = getCurrentComponentErrorInfo(parentType)),\n        !ownerHasKeyUseWarning[parentType])\n      ) {\n        ownerHasKeyUseWarning[parentType] = !0;\n        var childOwner = \"\";\n        element &&\n          null != element._owner &&\n          element._owner !== getOwner() &&\n          ((childOwner = null),\n          \"number\" === typeof element._owner.tag\n            ? (childOwner = getComponentNameFromType(element._owner.type))\n            : \"string\" === typeof element._owner.name &&\n              (childOwner = element._owner.name),\n          (childOwner = \" It was passed a child from \" + childOwner + \".\"));\n        var prevGetCurrentStack = ReactSharedInternals.getCurrentStack;\n        ReactSharedInternals.getCurrentStack = function () {\n          var stack = describeUnknownElementTypeFrameInDEV(element.type);\n          prevGetCurrentStack && (stack += prevGetCurrentStack() || \"\");\n          return stack;\n        };\n        console.error(\n          'Each child in a list should have a unique \"key\" prop.%s%s See https://react.dev/link/warning-keys for more information.',\n          parentType,\n          childOwner\n        );\n        ReactSharedInternals.getCurrentStack = prevGetCurrentStack;\n      }\n    }\n    function getCurrentComponentErrorInfo(parentType) {\n      var info = \"\",\n        owner = getOwner();\n      owner &&\n        (owner = getComponentNameFromType(owner.type)) &&\n        (info = \"\\n\\nCheck the render method of `\" + owner + \"`.\");\n      info ||\n        ((parentType = getComponentNameFromType(parentType)) &&\n          (info =\n            \"\\n\\nCheck the top-level render call using <\" + parentType + \">.\"));\n      return info;\n    }\n    var React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/index.js\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\n    Symbol.for(\"react.provider\");\n    var REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_OFFSCREEN_TYPE = Symbol.for(\"react.offscreen\"),\n      MAYBE_ITERATOR_SYMBOL = Symbol.iterator,\n      REACT_CLIENT_REFERENCE$2 = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      assign = Object.assign,\n      REACT_CLIENT_REFERENCE$1 = Symbol.for(\"react.client.reference\"),\n      isArrayImpl = Array.isArray,\n      disabledDepth = 0,\n      prevLog,\n      prevInfo,\n      prevWarn,\n      prevError,\n      prevGroup,\n      prevGroupCollapsed,\n      prevGroupEnd;\n    disabledLog.__reactDisabledLog = !0;\n    var prefix,\n      suffix,\n      reentry = !1;\n    var componentFrameCache = new (\n      \"function\" === typeof WeakMap ? WeakMap : Map\n    )();\n    var REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var didWarnAboutKeySpread = {},\n      ownerHasKeyUseWarning = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsxDEV = function (\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self\n    ) {\n      return jsxDEVImpl(type, config, maybeKey, isStaticChildren, source, self);\n    };\n  })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0L2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhO0FBQ2IsS0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSx3QkFBd0IsV0FBVyxnQkFBZ0I7QUFDbkQseUJBQXlCLFdBQVcsaUJBQWlCO0FBQ3JELHlCQUF5QixXQUFXLGlCQUFpQjtBQUNyRCwwQkFBMEIsV0FBVyxrQkFBa0I7QUFDdkQsMEJBQTBCLFdBQVcsa0JBQWtCO0FBQ3ZELG1DQUFtQyxXQUFXLDJCQUEyQjtBQUN6RSw2QkFBNkIsV0FBVyxxQkFBcUI7QUFDN0QsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLCtDQUErQyw2QkFBNkI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFnRDtBQUNoRSxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBO0FBQ0EsZ0NBQWdDLGtDQUFrQyxPQUFPO0FBQ3pFO0FBQ0EsZ0dBQWdHLFNBQVMsVUFBVSxzRkFBc0YsYUFBYSxVQUFVLFVBQVU7QUFDMU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsaUJBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHlCQUF5QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1CQUFPLENBQUMsMEdBQTBCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0EsSUFBSSxnQkFBZ0I7QUFDcEIsSUFBSSxjQUFjO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUciLCJzb3VyY2VzIjpbIi9Vc2Vycy9qdWxpdXMvZ2l0L1ZvdGVMYWIvVm90ZUxhYi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0L2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQyXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gdHlwZTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiRnJhZ21lbnRcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQb3J0YWxcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlByb2ZpbGVyXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdHJpY3RNb2RlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZUxpc3RcIjtcbiAgICAgIH1cbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHR5cGUudGFnICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgdHlwZS4kJHR5cGVvZilcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tLZXlTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgIH1cbiAgICAgIGlmIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gY29uc29sZTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5lcnJvcjtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMCA9XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgICB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICAgIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgICBcIk9iamVjdFwiO1xuICAgICAgICBKU0NvbXBpbGVyX3RlbXBfY29uc3QuY2FsbChcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQsXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzYWJsZWRMb2coKSB7fVxuICAgIGZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICAgICAgaWYgKDAgPT09IGRpc2FibGVkRGVwdGgpIHtcbiAgICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgICBwcmV2SW5mbyA9IGNvbnNvbGUuaW5mbztcbiAgICAgICAgcHJldldhcm4gPSBjb25zb2xlLndhcm47XG4gICAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICAgIHByZXZHcm91cCA9IGNvbnNvbGUuZ3JvdXA7XG4gICAgICAgIHByZXZHcm91cENvbGxhcHNlZCA9IGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQ7XG4gICAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7XG4gICAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgICB3cml0YWJsZTogITBcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICAgIGluZm86IHByb3BzLFxuICAgICAgICAgIGxvZzogcHJvcHMsXG4gICAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgICAgZXJyb3I6IHByb3BzLFxuICAgICAgICAgIGdyb3VwOiBwcm9wcyxcbiAgICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgICAgZ3JvdXBFbmQ6IHByb3BzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZGlzYWJsZWREZXB0aCsrO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWVuYWJsZUxvZ3MoKSB7XG4gICAgICBkaXNhYmxlZERlcHRoLS07XG4gICAgICBpZiAoMCA9PT0gZGlzYWJsZWREZXB0aCkge1xuICAgICAgICB2YXIgcHJvcHMgPSB7IGNvbmZpZ3VyYWJsZTogITAsIGVudW1lcmFibGU6ICEwLCB3cml0YWJsZTogITAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICAgIGxvZzogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkxvZyB9KSxcbiAgICAgICAgICBpbmZvOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2SW5mbyB9KSxcbiAgICAgICAgICB3YXJuOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2V2FybiB9KSxcbiAgICAgICAgICBlcnJvcjogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkVycm9yIH0pLFxuICAgICAgICAgIGdyb3VwOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXAgfSksXG4gICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cENvbGxhcHNlZCB9KSxcbiAgICAgICAgICBncm91cEVuZDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwRW5kIH0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgMCA+IGRpc2FibGVkRGVwdGggJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImRpc2FibGVkRGVwdGggZmVsbCBiZWxvdyB6ZXJvLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSB7XG4gICAgICBpZiAodm9pZCAwID09PSBwcmVmaXgpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IHguc3RhY2sudHJpbSgpLm1hdGNoKC9cXG4oICooYXQgKT8pLyk7XG4gICAgICAgICAgcHJlZml4ID0gKG1hdGNoICYmIG1hdGNoWzFdKSB8fCBcIlwiO1xuICAgICAgICAgIHN1ZmZpeCA9XG4gICAgICAgICAgICAtMSA8IHguc3RhY2suaW5kZXhPZihcIlxcbiAgICBhdFwiKVxuICAgICAgICAgICAgICA/IFwiICg8YW5vbnltb3VzPilcIlxuICAgICAgICAgICAgICA6IC0xIDwgeC5zdGFjay5pbmRleE9mKFwiQFwiKVxuICAgICAgICAgICAgICAgID8gXCJAdW5rbm93bjowOjBcIlxuICAgICAgICAgICAgICAgIDogXCJcIjtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIFwiXFxuXCIgKyBwcmVmaXggKyBuYW1lICsgc3VmZml4O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZuLCBjb25zdHJ1Y3QpIHtcbiAgICAgIGlmICghZm4gfHwgcmVlbnRyeSkgcmV0dXJuIFwiXCI7XG4gICAgICB2YXIgZnJhbWUgPSBjb21wb25lbnRGcmFtZUNhY2hlLmdldChmbik7XG4gICAgICBpZiAodm9pZCAwICE9PSBmcmFtZSkgcmV0dXJuIGZyYW1lO1xuICAgICAgcmVlbnRyeSA9ICEwO1xuICAgICAgZnJhbWUgPSBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZTtcbiAgICAgIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gdm9pZCAwO1xuICAgICAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlciA9IG51bGw7XG4gICAgICBwcmV2aW91c0Rpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IG51bGw7XG4gICAgICBkaXNhYmxlTG9ncygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIFJ1bkluUm9vdEZyYW1lID0ge1xuICAgICAgICAgIERldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKGNvbnN0cnVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBGYWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgXCJwcm9wc1wiLCB7XG4gICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIFJlZmxlY3QgJiYgUmVmbGVjdC5jb25zdHJ1Y3QpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRyb2wgPSB4O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoZm4sIFtdLCBGYWtlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgRmFrZS5jYWxsKCk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoICh4JDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbCA9IHgkMDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGZuLmNhbGwoRmFrZS5wcm90b3R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoICh4JDEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2wgPSB4JDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChGYWtlID0gZm4oKSkgJiZcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEZha2UuY2F0Y2ggJiZcbiAgICAgICAgICAgICAgICAgIEZha2UuY2F0Y2goZnVuY3Rpb24gKCkge30pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAgICAgICAgICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBzYW1wbGUuc3RhY2spXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtzYW1wbGUuc3RhY2ssIGNvbnRyb2wuc3RhY2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBudWxsXTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdC5kaXNwbGF5TmFtZSA9XG4gICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIjtcbiAgICAgICAgdmFyIG5hbWVQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LFxuICAgICAgICAgIFwibmFtZVwiXG4gICAgICAgICk7XG4gICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciAmJlxuICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvci5jb25maWd1cmFibGUgJiZcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QsXG4gICAgICAgICAgICBcIm5hbWVcIixcbiAgICAgICAgICAgIHsgdmFsdWU6IFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCIgfVxuICAgICAgICAgICk7XG4gICAgICAgIHZhciBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPVxuICAgICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290KCksXG4gICAgICAgICAgc2FtcGxlU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMF0sXG4gICAgICAgICAgY29udHJvbFN0YWNrID0gX1J1bkluUm9vdEZyYW1lJERldGVyWzFdO1xuICAgICAgICBpZiAoc2FtcGxlU3RhY2sgJiYgY29udHJvbFN0YWNrKSB7XG4gICAgICAgICAgdmFyIHNhbXBsZUxpbmVzID0gc2FtcGxlU3RhY2suc3BsaXQoXCJcXG5cIiksXG4gICAgICAgICAgICBjb250cm9sTGluZXMgPSBjb250cm9sU3RhY2suc3BsaXQoXCJcXG5cIik7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9IG5hbWVQcm9wRGVzY3JpcHRvciA9IDA7XG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPCBzYW1wbGVMaW5lcy5sZW5ndGggJiZcbiAgICAgICAgICAgICFzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yKys7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA8IGNvbnRyb2xMaW5lcy5sZW5ndGggJiZcbiAgICAgICAgICAgICFjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlcisrO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA9PT0gc2FtcGxlTGluZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPT09IGNvbnRyb2xMaW5lcy5sZW5ndGhcbiAgICAgICAgICApXG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9IGNvbnRyb2xMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJlxuICAgICAgICAgICAgICAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlciAmJlxuICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdO1xuXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlci0tO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICAxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJiAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlcjtcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvci0tLCBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl1cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAoMSAhPT0gbmFtZVByb3BEZXNjcmlwdG9yIHx8IDEgIT09IF9SdW5JblJvb3RGcmFtZSREZXRlcikge1xuICAgICAgICAgICAgICAgIGRvXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIChuYW1lUHJvcERlc2NyaXB0b3ItLSxcbiAgICAgICAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyLS0sXG4gICAgICAgICAgICAgICAgICAgIDAgPiBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl0pXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9mcmFtZSA9XG4gICAgICAgICAgICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgYXQgbmV3IFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgYXQgXCJcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBmbi5kaXNwbGF5TmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZS5pbmNsdWRlcyhcIjxhbm9ueW1vdXM+XCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgKF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKFwiPGFub255bW91cz5cIiwgZm4uZGlzcGxheU5hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZm4gJiZcbiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aGlsZSAoMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiYgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAocmVlbnRyeSA9ICExKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZpb3VzRGlzcGF0Y2hlciksXG4gICAgICAgICAgcmVlbmFibGVMb2dzKCksXG4gICAgICAgICAgKEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gZnJhbWUpO1xuICAgICAgfVxuICAgICAgc2FtcGxlTGluZXMgPSAoc2FtcGxlTGluZXMgPSBmbiA/IGZuLmRpc3BsYXlOYW1lIHx8IGZuLm5hbWUgOiBcIlwiKVxuICAgICAgICA/IGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHNhbXBsZUxpbmVzKVxuICAgICAgICA6IFwiXCI7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBmbiAmJiBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc2FtcGxlTGluZXMpO1xuICAgICAgcmV0dXJuIHNhbXBsZUxpbmVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT0gdHlwZSkgcmV0dXJuIFwiXCI7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSkge1xuICAgICAgICB2YXIgcHJvdG90eXBlID0gdHlwZS5wcm90b3R5cGU7XG4gICAgICAgIHJldHVybiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgISghcHJvdG90eXBlIHx8ICFwcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHR5cGUpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXCJTdXNwZW5zZVwiKTtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFwiU3VzcGVuc2VMaXN0XCIpO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKHR5cGUuJCR0eXBlb2YpIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUgPSBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKHR5cGUucmVuZGVyLCAhMSkpLCB0eXBlO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlLnR5cGUpO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgcHJvdG90eXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlKHByb3RvdHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE93bmVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5BO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGRpc3BhdGNoZXIgPyBudWxsIDogZGlzcGF0Y2hlci5nZXRPd25lcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJrZXlcIikpIHtcbiAgICAgICAgdmFyIGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCBcImtleVwiKS5nZXQ7XG4gICAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBjb25maWcua2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAgICAgIGZ1bmN0aW9uIHdhcm5BYm91dEFjY2Vzc2luZ0tleSgpIHtcbiAgICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gfHxcbiAgICAgICAgICAoKHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gITApLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgdmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCBwcm9wLiAoaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9zcGVjaWFsLXByb3BzKVwiLFxuICAgICAgICAgICAgZGlzcGxheU5hbWVcbiAgICAgICAgICApKTtcbiAgICAgIH1cbiAgICAgIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9ICEwO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCBcImtleVwiLCB7XG4gICAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmcoKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0aGlzLnR5cGUpO1xuICAgICAgZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSB8fFxuICAgICAgICAoKGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gPSAhMCksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBY2Nlc3NpbmcgZWxlbWVudC5yZWYgd2FzIHJlbW92ZWQgaW4gUmVhY3QgMTkuIHJlZiBpcyBub3cgYSByZWd1bGFyIHByb3AuIEl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBKU1ggRWxlbWVudCB0eXBlIGluIGEgZnV0dXJlIHJlbGVhc2UuXCJcbiAgICAgICAgKSk7XG4gICAgICBjb21wb25lbnROYW1lID0gdGhpcy5wcm9wcy5yZWY7XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBjb21wb25lbnROYW1lID8gY29tcG9uZW50TmFtZSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlYWN0RWxlbWVudCh0eXBlLCBrZXksIHNlbGYsIHNvdXJjZSwgb3duZXIsIHByb3BzKSB7XG4gICAgICBzZWxmID0gcHJvcHMucmVmO1xuICAgICAgdHlwZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgX293bmVyOiBvd25lclxuICAgICAgfTtcbiAgICAgIG51bGwgIT09ICh2b2lkIDAgIT09IHNlbGYgPyBzZWxmIDogbnVsbClcbiAgICAgICAgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgICAgICBnZXQ6IGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwgeyBlbnVtZXJhYmxlOiAhMSwgdmFsdWU6IG51bGwgfSk7XG4gICAgICB0eXBlLl9zdG9yZSA9IHt9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUuX3N0b3JlLCBcInZhbGlkYXRlZFwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z0luZm9cIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZnJlZXplICYmIChPYmplY3QuZnJlZXplKHR5cGUucHJvcHMpLCBPYmplY3QuZnJlZXplKHR5cGUpKTtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBqc3hERVZJbXBsKFxuICAgICAgdHlwZSxcbiAgICAgIGNvbmZpZyxcbiAgICAgIG1heWJlS2V5LFxuICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgIHNvdXJjZSxcbiAgICAgIHNlbGZcbiAgICApIHtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUgfHxcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9PRkZTQ1JFRU5fVFlQRSB8fFxuICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgICAgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlNVTUVSX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSB8fFxuICAgICAgICAgICAgdm9pZCAwICE9PSB0eXBlLmdldE1vZHVsZUlkKSlcbiAgICAgICkge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBjb25maWcuY2hpbGRyZW47XG4gICAgICAgIGlmICh2b2lkIDAgIT09IGNoaWxkcmVuKVxuICAgICAgICAgIGlmIChpc1N0YXRpY0NoaWxkcmVuKVxuICAgICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4gPSAwO1xuICAgICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4gPCBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbisrXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbltpc1N0YXRpY0NoaWxkcmVuXSwgdHlwZSk7XG4gICAgICAgICAgICAgIE9iamVjdC5mcmVlemUgJiYgT2JqZWN0LmZyZWV6ZShjaGlsZHJlbik7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlJlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuIFlvdSBhcmUgbGlrZWx5IGV4cGxpY2l0bHkgY2FsbGluZyBSZWFjdC5qc3hzIG9yIFJlYWN0LmpzeERFVi4gVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIGVsc2UgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW4sIHR5cGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4gPSBcIlwiO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdm9pZCAwID09PSB0eXBlIHx8XG4gICAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgICAgICAwID09PSBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGgpXG4gICAgICAgIClcbiAgICAgICAgICBjaGlsZHJlbiArPVxuICAgICAgICAgICAgXCIgWW91IGxpa2VseSBmb3Jnb3QgdG8gZXhwb3J0IHlvdXIgY29tcG9uZW50IGZyb20gdGhlIGZpbGUgaXQncyBkZWZpbmVkIGluLCBvciB5b3UgbWlnaHQgaGF2ZSBtaXhlZCB1cCBkZWZhdWx0IGFuZCBuYW1lZCBpbXBvcnRzLlwiO1xuICAgICAgICBudWxsID09PSB0eXBlXG4gICAgICAgICAgPyAoaXNTdGF0aWNDaGlsZHJlbiA9IFwibnVsbFwiKVxuICAgICAgICAgIDogaXNBcnJheUltcGwodHlwZSlcbiAgICAgICAgICAgID8gKGlzU3RhdGljQ2hpbGRyZW4gPSBcImFycmF5XCIpXG4gICAgICAgICAgICA6IHZvaWQgMCAhPT0gdHlwZSAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEVcbiAgICAgICAgICAgICAgPyAoKGlzU3RhdGljQ2hpbGRyZW4gPVxuICAgICAgICAgICAgICAgICAgXCI8XCIgK1xuICAgICAgICAgICAgICAgICAgKGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiVW5rbm93blwiKSArXG4gICAgICAgICAgICAgICAgICBcIiAvPlwiKSxcbiAgICAgICAgICAgICAgICAoY2hpbGRyZW4gPVxuICAgICAgICAgICAgICAgICAgXCIgRGlkIHlvdSBhY2NpZGVudGFsbHkgZXhwb3J0IGEgSlNYIGxpdGVyYWwgaW5zdGVhZCBvZiBhIGNvbXBvbmVudD9cIikpXG4gICAgICAgICAgICAgIDogKGlzU3RhdGljQ2hpbGRyZW4gPSB0eXBlb2YgdHlwZSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJSZWFjdC5qc3g6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yIGJ1aWx0LWluIGNvbXBvbmVudHMpIG9yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgY29tcG9uZW50cykgYnV0IGdvdDogJXMuJXNcIixcbiAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIGNoaWxkcmVuID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNvbmZpZykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIFwia2V5XCIgIT09IGs7XG4gICAgICAgIH0pO1xuICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID1cbiAgICAgICAgICAwIDwga2V5cy5sZW5ndGhcbiAgICAgICAgICAgID8gXCJ7a2V5OiBzb21lS2V5LCBcIiArIGtleXMuam9pbihcIjogLi4uLCBcIikgKyBcIjogLi4ufVwiXG4gICAgICAgICAgICA6IFwie2tleTogc29tZUtleX1cIjtcbiAgICAgICAgZGlkV2FybkFib3V0S2V5U3ByZWFkW2NoaWxkcmVuICsgaXNTdGF0aWNDaGlsZHJlbl0gfHxcbiAgICAgICAgICAoKGtleXMgPVxuICAgICAgICAgICAgMCA8IGtleXMubGVuZ3RoID8gXCJ7XCIgKyBrZXlzLmpvaW4oXCI6IC4uLiwgXCIpICsgXCI6IC4uLn1cIiA6IFwie31cIiksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdBIHByb3BzIG9iamVjdCBjb250YWluaW5nIGEgXCJrZXlcIiBwcm9wIGlzIGJlaW5nIHNwcmVhZCBpbnRvIEpTWDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIHsuLi5wcm9wc30gLz5cXG5SZWFjdCBrZXlzIG11c3QgYmUgcGFzc2VkIGRpcmVjdGx5IHRvIEpTWCB3aXRob3V0IHVzaW5nIHNwcmVhZDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIGtleT17c29tZUtleX0gey4uLnByb3BzfSAvPicsXG4gICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICBrZXlzLFxuICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY2hpbGRyZW4gKyBpc1N0YXRpY0NoaWxkcmVuXSA9ICEwKSk7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB2b2lkIDAgIT09IG1heWJlS2V5ICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKG1heWJlS2V5KSwgKGNoaWxkcmVuID0gXCJcIiArIG1heWJlS2V5KSk7XG4gICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpLCAoY2hpbGRyZW4gPSBcIlwiICsgY29uZmlnLmtleSkpO1xuICAgICAgaWYgKFwia2V5XCIgaW4gY29uZmlnKSB7XG4gICAgICAgIG1heWJlS2V5ID0ge307XG4gICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIGNvbmZpZylcbiAgICAgICAgICBcImtleVwiICE9PSBwcm9wTmFtZSAmJiAobWF5YmVLZXlbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB9IGVsc2UgbWF5YmVLZXkgPSBjb25maWc7XG4gICAgICBjaGlsZHJlbiAmJlxuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihcbiAgICAgICAgICBtYXliZUtleSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICAgICAgICA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQodHlwZSwgY2hpbGRyZW4sIHNlbGYsIHNvdXJjZSwgZ2V0T3duZXIoKSwgbWF5YmVLZXkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBub2RlICYmXG4gICAgICAgIG5vZGUgJiZcbiAgICAgICAgbm9kZS4kJHR5cGVvZiAhPT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgKVxuICAgICAgICBpZiAoaXNBcnJheUltcGwobm9kZSkpXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnQoY2hpbGQpICYmIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWYWxpZEVsZW1lbnQobm9kZSkpXG4gICAgICAgICAgbm9kZS5fc3RvcmUgJiYgKG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAobnVsbCA9PT0gbm9kZSB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2Ygbm9kZVxuICAgICAgICAgICAgPyAoaSA9IG51bGwpXG4gICAgICAgICAgICA6ICgoaSA9XG4gICAgICAgICAgICAgICAgKE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBub2RlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgICAgICAgICAgICAgbm9kZVtcIkBAaXRlcmF0b3JcIl0pLFxuICAgICAgICAgICAgICAoaSA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGkgPyBpIDogbnVsbCkpLFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGkgJiZcbiAgICAgICAgICAgIGkgIT09IG5vZGUuZW50cmllcyAmJlxuICAgICAgICAgICAgKChpID0gaS5jYWxsKG5vZGUpKSwgaSAhPT0gbm9kZSkpXG4gICAgICAgIClcbiAgICAgICAgICBmb3IgKDsgIShub2RlID0gaS5uZXh0KCkpLmRvbmU7IClcbiAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KG5vZGUudmFsdWUpICYmXG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkobm9kZS52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KG9iamVjdCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9iamVjdCAmJlxuICAgICAgICBudWxsICE9PSBvYmplY3QgJiZcbiAgICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEVcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICAgICAgaWYgKFxuICAgICAgICBlbGVtZW50Ll9zdG9yZSAmJlxuICAgICAgICAhZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkICYmXG4gICAgICAgIG51bGwgPT0gZWxlbWVudC5rZXkgJiZcbiAgICAgICAgKChlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSAxKSxcbiAgICAgICAgKHBhcmVudFR5cGUgPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpKSxcbiAgICAgICAgIW93bmVySGFzS2V5VXNlV2FybmluZ1twYXJlbnRUeXBlXSlcbiAgICAgICkge1xuICAgICAgICBvd25lckhhc0tleVVzZVdhcm5pbmdbcGFyZW50VHlwZV0gPSAhMDtcbiAgICAgICAgdmFyIGNoaWxkT3duZXIgPSBcIlwiO1xuICAgICAgICBlbGVtZW50ICYmXG4gICAgICAgICAgbnVsbCAhPSBlbGVtZW50Ll9vd25lciAmJlxuICAgICAgICAgIGVsZW1lbnQuX293bmVyICE9PSBnZXRPd25lcigpICYmXG4gICAgICAgICAgKChjaGlsZE93bmVyID0gbnVsbCksXG4gICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGVsZW1lbnQuX293bmVyLnRhZ1xuICAgICAgICAgICAgPyAoY2hpbGRPd25lciA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShlbGVtZW50Ll9vd25lci50eXBlKSlcbiAgICAgICAgICAgIDogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVsZW1lbnQuX293bmVyLm5hbWUgJiZcbiAgICAgICAgICAgICAgKGNoaWxkT3duZXIgPSBlbGVtZW50Ll9vd25lci5uYW1lKSxcbiAgICAgICAgICAoY2hpbGRPd25lciA9IFwiIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tIFwiICsgY2hpbGRPd25lciArIFwiLlwiKSk7XG4gICAgICAgIHZhciBwcmV2R2V0Q3VycmVudFN0YWNrID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSk7XG4gICAgICAgICAgcHJldkdldEN1cnJlbnRTdGFjayAmJiAoc3RhY2sgKz0gcHJldkdldEN1cnJlbnRTdGFjaygpIHx8IFwiXCIpO1xuICAgICAgICAgIHJldHVybiBzdGFjaztcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRWFjaCBjaGlsZCBpbiBhIGxpc3Qgc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLiVzJXMgU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsXG4gICAgICAgICAgcGFyZW50VHlwZSxcbiAgICAgICAgICBjaGlsZE93bmVyXG4gICAgICAgICk7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9IHByZXZHZXRDdXJyZW50U3RhY2s7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSkge1xuICAgICAgdmFyIGluZm8gPSBcIlwiLFxuICAgICAgICBvd25lciA9IGdldE93bmVyKCk7XG4gICAgICBvd25lciAmJlxuICAgICAgICAob3duZXIgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUob3duZXIudHlwZSkpICYmXG4gICAgICAgIChpbmZvID0gXCJcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgXCIgKyBvd25lciArIFwiYC5cIik7XG4gICAgICBpbmZvIHx8XG4gICAgICAgICgocGFyZW50VHlwZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShwYXJlbnRUeXBlKSkgJiZcbiAgICAgICAgICAoaW5mbyA9XG4gICAgICAgICAgICBcIlxcblxcbkNoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPFwiICsgcGFyZW50VHlwZSArIFwiPi5cIikpO1xuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuICAgIHZhciBSZWFjdCA9IHJlcXVpcmUoXCJuZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3RcIiksXG4gICAgICBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLFxuICAgICAgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxcbiAgICAgIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpO1xuICAgIHZhciBSRUFDVF9DT05TVU1FUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnN1bWVyXCIpLFxuICAgICAgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksXG4gICAgICBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFxuICAgICAgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksXG4gICAgICBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKSxcbiAgICAgIFJFQUNUX09GRlNDUkVFTl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm9mZnNjcmVlblwiKSxcbiAgICAgIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcixcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMiA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPVxuICAgICAgICBSZWFjdC5fX0NMSUVOVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUsXG4gICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduLFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXksXG4gICAgICBkaXNhYmxlZERlcHRoID0gMCxcbiAgICAgIHByZXZMb2csXG4gICAgICBwcmV2SW5mbyxcbiAgICAgIHByZXZXYXJuLFxuICAgICAgcHJldkVycm9yLFxuICAgICAgcHJldkdyb3VwLFxuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkLFxuICAgICAgcHJldkdyb3VwRW5kO1xuICAgIGRpc2FibGVkTG9nLl9fcmVhY3REaXNhYmxlZExvZyA9ICEwO1xuICAgIHZhciBwcmVmaXgsXG4gICAgICBzdWZmaXgsXG4gICAgICByZWVudHJ5ID0gITE7XG4gICAgdmFyIGNvbXBvbmVudEZyYW1lQ2FjaGUgPSBuZXcgKFxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgV2Vha01hcCA/IFdlYWtNYXAgOiBNYXBcbiAgICApKCk7XG4gICAgdmFyIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xuICAgIHZhciBkaWRXYXJuQWJvdXRFbGVtZW50UmVmID0ge307XG4gICAgdmFyIGRpZFdhcm5BYm91dEtleVNwcmVhZCA9IHt9LFxuICAgICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5qc3hERVYgPSBmdW5jdGlvbiAoXG4gICAgICB0eXBlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWF5YmVLZXksXG4gICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZlxuICAgICkge1xuICAgICAgcmV0dXJuIGpzeERFVkltcGwodHlwZSwgY29uZmlnLCBtYXliZUtleSwgaXNTdGF0aWNDaGlsZHJlbiwgc291cmNlLCBzZWxmKTtcbiAgICB9O1xuICB9KSgpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \**********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3JlYWN0L2pzeC1kZXYtcnVudGltZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFJLEtBQXFDLEVBQUUsRUFFMUMsQ0FBQztBQUNGLEVBQUUsa01BQXNFO0FBQ3hFIiwic291cmNlcyI6WyIvVXNlcnMvanVsaXVzL2dpdC9Wb3RlTGFiL1ZvdGVMYWIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9qc3gtZGV2LXJ1bnRpbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5wcm9kdWN0aW9uLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["main-app"], () => (__webpack_exec__("(app-pages-browser)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjulius%2Fgit%2FVoteLab%2FVoteLab%2Fpackages%2Fvisualizations%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);